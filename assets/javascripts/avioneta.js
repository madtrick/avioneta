/**
 * almond 0.2.6 Copyright (c) 2011-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/*!
 * jQuery JavaScript Library v2.0.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03T13:30Z
 */

/*!
 * Sizzle CSS Selector Engine v1.9.4-pre
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-06-03
 */

//     Underscore.js 1.5.2
//     http://underscorejs.org
//     (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

//     (c) 2010-2011 Jeremy Ashkenas, DocumentCloud Inc.
//     (c) 2011-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

/**
* bootstrap.js v3.0.0 by @fat and @mdo
* Copyright 2013 Twitter Inc.
* http://www.apache.org/licenses/LICENSE-2.0
*/

/* ========================================================================
 * Bootstrap: transition.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#transitions
 * ========================================================================
 * Copyright 2013 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: alert.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#alerts
 * ========================================================================
 * Copyright 2013 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: button.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#buttons
 * ========================================================================
 * Copyright 2013 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: carousel.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#carousel
 * ========================================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: collapse.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#collapse
 * ========================================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: dropdown.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#dropdowns
 * ========================================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: modal.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#modals
 * ========================================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: tooltip.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: popover.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#popovers
 * ========================================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: scrollspy.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#scrollspy
 * ========================================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: tab.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#tabs
 * ========================================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: affix.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#affix
 * ========================================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/**
 * bootbox.js [v4.1.0]
 *
 * http://bootboxjs.com/license.txt
 */

var requirejs,require,define;!function(t){function e(t,e){return y.call(t,e)}function n(t,e){var n,o,i,r,s,a,u,c,l,p,f=e&&e.split("/"),d=m.map,h=d&&d["*"]||{};if(t&&"."===t.charAt(0))if(e){for(f=f.slice(0,f.length-1),t=f.concat(t.split("/")),c=0;c<t.length;c+=1)if(p=t[c],"."===p)t.splice(c,1),c-=1;else if(".."===p){if(1===c&&(".."===t[2]||".."===t[0]))break;c>0&&(t.splice(c-1,2),c-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((f||h)&&d){for(n=t.split("/"),c=n.length;c>0;c-=1){if(o=n.slice(0,c).join("/"),f)for(l=f.length;l>0;l-=1)if(i=d[f.slice(0,l).join("/")],i&&(i=i[o])){r=i,s=c;break}if(r)break;!a&&h&&h[o]&&(a=h[o],u=c)}!r&&a&&(r=a,s=u),r&&(n.splice(0,s,r),t=n.join("/"))}return t}function o(e,n){return function(){return l.apply(t,g.call(arguments,0).concat([e,n]))}}function i(t){return function(e){return n(e,t)}}function r(t){return function(e){d[t]=e}}function s(n){if(e(h,n)){var o=h[n];delete h[n],v[n]=!0,c.apply(t,o)}if(!e(d,n)&&!e(v,n))throw new Error("No "+n);return d[n]}function a(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function u(t){return function(){return m&&m.config&&m.config[t]||{}}}var c,l,p,f,d={},h={},m={},v={},y=Object.prototype.hasOwnProperty,g=[].slice;p=function(t,e){var o,r=a(t),u=r[0];return t=r[1],u&&(u=n(u,e),o=s(u)),u?t=o&&o.normalize?o.normalize(t,i(e)):n(t,e):(t=n(t,e),r=a(t),u=r[0],t=r[1],u&&(o=s(u))),{f:u?u+"!"+t:t,n:t,pr:u,p:o}},f={require:function(t){return o(t)},exports:function(t){var e=d[t];return"undefined"!=typeof e?e:d[t]={}},module:function(t){return{id:t,uri:"",exports:d[t],config:u(t)}}},c=function(n,i,a,u){var c,l,m,y,g,b,_=[];if(u=u||n,"function"==typeof a){for(i=!i.length&&a.length?["require","exports","module"]:i,g=0;g<i.length;g+=1)if(y=p(i[g],u),l=y.f,"require"===l)_[g]=f.require(n);else if("exports"===l)_[g]=f.exports(n),b=!0;else if("module"===l)c=_[g]=f.module(n);else if(e(d,l)||e(h,l)||e(v,l))_[g]=s(l);else{if(!y.p)throw new Error(n+" missing "+l);y.p.load(y.n,o(u,!0),r(l),{}),_[g]=d[l]}m=a.apply(d[n],_),n&&(c&&c.exports!==t&&c.exports!==d[n]?d[n]=c.exports:m===t&&b||(d[n]=m))}else n&&(d[n]=a)},requirejs=require=l=function(e,n,o,i,r){return"string"==typeof e?f[e]?f[e](n):s(p(e,n).f):(e.splice||(m=e,n.splice?(e=n,n=o,o=null):e=t),n=n||function(){},"function"==typeof o&&(o=i,i=r),i?c(t,e,n,o):setTimeout(function(){c(t,e,n,o)},4),l)},l.config=function(t){return m=t,m.deps&&l(m.deps,m.callback),l},requirejs._defined=d,define=function(t,n,o){n.splice||(o=n,n=[]),e(d,t)||e(h,t)||(h[t]=[t,n,o])},define.amd={jQuery:!0}}(),define("vendor/almond",function(){}),function(t,e){function n(t){var e=t.length,n=re.type(t);return re.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||"function"!==n&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}function o(t){var e=he[t]={};return re.each(t.match(ae)||[],function(t,n){e[n]=!0}),e}function i(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=re.expando+Math.random()}function r(t,n,o){var i;if(o===e&&1===t.nodeType)if(i="data-"+n.replace(ge,"-$1").toLowerCase(),o=t.getAttribute(i),"string"==typeof o){try{o="true"===o?!0:"false"===o?!1:"null"===o?null:+o+""===o?+o:ye.test(o)?JSON.parse(o):o}catch(r){}me.set(t,n,o)}else o=e;return o}function s(){return!0}function a(){return!1}function u(){try{return U.activeElement}catch(t){}}function c(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function l(t,e,n){if(re.isFunction(e))return re.grep(t,function(t,o){return!!e.call(t,o,t)!==n});if(e.nodeType)return re.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(je.test(e))return re.filter(e,t,n);e=re.filter(e,t)}return re.grep(t,function(t){return ee.call(e,t)>=0!==n})}function p(t,e){return re.nodeName(t,"table")&&re.nodeName(1===e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function f(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function d(t){var e=Le.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function h(t,e){for(var n=t.length,o=0;n>o;o++)ve.set(t[o],"globalEval",!e||ve.get(e[o],"globalEval"))}function m(t,e){var n,o,i,r,s,a,u,c;if(1===e.nodeType){if(ve.hasData(t)&&(r=ve.access(t),s=ve.set(e,r),c=r.events)){delete s.handle,s.events={};for(i in c)for(n=0,o=c[i].length;o>n;n++)re.event.add(e,i,c[i][n])}me.hasData(t)&&(a=me.access(t),u=re.extend({},a),me.set(e,u))}}function v(t,n){var o=t.getElementsByTagName?t.getElementsByTagName(n||"*"):t.querySelectorAll?t.querySelectorAll(n||"*"):[];return n===e||n&&re.nodeName(t,n)?re.merge([t],o):o}function y(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Me.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function g(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),o=e,i=Ze.length;i--;)if(e=Ze[i]+n,e in t)return e;return o}function b(t,e){return t=e||t,"none"===re.css(t,"display")||!re.contains(t.ownerDocument,t)}function _(e){return t.getComputedStyle(e,null)}function w(t,e){for(var n,o,i,r=[],s=0,a=t.length;a>s;s++)o=t[s],o.style&&(r[s]=ve.get(o,"olddisplay"),n=o.style.display,e?(r[s]||"none"!==n||(o.style.display=""),""===o.style.display&&b(o)&&(r[s]=ve.access(o,"olddisplay",T(o.nodeName)))):r[s]||(i=b(o),(n&&"none"!==n||!i)&&ve.set(o,"olddisplay",i?n:re.css(o,"display"))));for(s=0;a>s;s++)o=t[s],o.style&&(e&&"none"!==o.style.display&&""!==o.style.display||(o.style.display=e?r[s]||"":"none"));return t}function x(t,e,n){var o=Je.exec(e);return o?Math.max(0,o[1]-(n||0))+(o[2]||"px"):e}function C(t,e,n,o,i){for(var r=n===(o?"border":"content")?4:"width"===e?1:0,s=0;4>r;r+=2)"margin"===n&&(s+=re.css(t,n+Ge[r],!0,i)),o?("content"===n&&(s-=re.css(t,"padding"+Ge[r],!0,i)),"margin"!==n&&(s-=re.css(t,"border"+Ge[r]+"Width",!0,i))):(s+=re.css(t,"padding"+Ge[r],!0,i),"padding"!==n&&(s+=re.css(t,"border"+Ge[r]+"Width",!0,i)));return s}function k(t,e,n){var o=!0,i="width"===e?t.offsetWidth:t.offsetHeight,r=_(t),s=re.support.boxSizing&&"border-box"===re.css(t,"boxSizing",!1,r);if(0>=i||null==i){if(i=Re(t,e,r),(0>i||null==i)&&(i=t.style[e]),Ke.test(i))return i;o=s&&(re.support.boxSizingReliable||i===t.style[e]),i=parseFloat(i)||0}return i+C(t,e,n||(s?"border":"content"),o,r)+"px"}function T(t){var e=U,n=Ve[t];return n||(n=S(t,e),"none"!==n&&n||(Be=(Be||re("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(Be[0].contentWindow||Be[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),n=S(t,e),Be.detach()),Ve[t]=n),n}function S(t,e){var n=re(e.createElement(t)).appendTo(e.body),o=re.css(n[0],"display");return n.remove(),o}function E(t,e,n,o){var i;if(re.isArray(e))re.each(e,function(e,i){n||en.test(t)?o(t,i):E(t+"["+("object"==typeof i?e:"")+"]",i,n,o)});else if(n||"object"!==re.type(e))o(t,e);else for(i in e)E(t+"["+i+"]",e[i],n,o)}function j(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var o,i=0,r=e.toLowerCase().match(ae)||[];if(re.isFunction(n))for(;o=r[i++];)"+"===o[0]?(o=o.slice(1)||"*",(t[o]=t[o]||[]).unshift(n)):(t[o]=t[o]||[]).push(n)}}function O(t,e,n,o){function i(a){var u;return r[a]=!0,re.each(t[a]||[],function(t,a){var c=a(e,n,o);return"string"!=typeof c||s||r[c]?s?!(u=c):void 0:(e.dataTypes.unshift(c),i(c),!1)}),u}var r={},s=t===bn;return i(e.dataTypes[0])||!r["*"]&&i("*")}function A(t,n){var o,i,r=re.ajaxSettings.flatOptions||{};for(o in n)n[o]!==e&&((r[o]?t:i||(i={}))[o]=n[o]);return i&&re.extend(!0,t,i),t}function P(t,n,o){for(var i,r,s,a,u=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),i===e&&(i=t.mimeType||n.getResponseHeader("Content-Type"));if(i)for(r in u)if(u[r]&&u[r].test(i)){c.unshift(r);break}if(c[0]in o)s=c[0];else{for(r in o){if(!c[0]||t.converters[r+" "+c[0]]){s=r;break}a||(a=r)}s=s||a}return s?(s!==c[0]&&c.unshift(s),o[s]):void 0}function N(t,e,n,o){var i,r,s,a,u,c={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(r=l.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!u&&o&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=r,r=l.shift())if("*"===r)r=u;else if("*"!==u&&u!==r){if(s=c[u+" "+r]||c["* "+r],!s)for(i in c)if(a=i.split(" "),a[1]===r&&(s=c[u+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[i]:c[i]!==!0&&(r=a[0],l.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(p){return{state:"parsererror",error:s?p:"No conversion from "+u+" to "+r}}}return{state:"success",data:e}}function $(){return setTimeout(function(){jn=e}),jn=re.now()}function D(t,e,n){for(var o,i=(Dn[e]||[]).concat(Dn["*"]),r=0,s=i.length;s>r;r++)if(o=i[r].call(n,e,t))return o}function z(t,e,n){var o,i,r=0,s=$n.length,a=re.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=jn||$(),n=Math.max(0,c.startTime+c.duration-e),o=n/c.duration||0,r=1-o,s=0,u=c.tweens.length;u>s;s++)c.tweens[s].run(r);return a.notifyWith(t,[c,r,n]),1>r&&u?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:re.extend({},e),opts:re.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:jn||$(),duration:n.duration,tweens:[],createTween:function(e,n){var o=re.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(o),o},stop:function(e){var n=0,o=e?c.tweens.length:0;if(i)return this;for(i=!0;o>n;n++)c.tweens[n].run(1);return e?a.resolveWith(t,[c,e]):a.rejectWith(t,[c,e]),this}}),l=c.props;for(M(l,c.opts.specialEasing);s>r;r++)if(o=$n[r].call(c,t,l,c.opts))return o;return re.map(l,D,c),re.isFunction(c.opts.start)&&c.opts.start.call(t,c),re.fx.timer(re.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function M(t,e){var n,o,i,r,s;for(n in t)if(o=re.camelCase(n),i=e[o],r=t[n],re.isArray(r)&&(i=r[1],r=t[n]=r[0]),n!==o&&(t[o]=r,delete t[n]),s=re.cssHooks[o],s&&"expand"in s){r=s.expand(r),delete t[o];for(n in r)n in t||(t[n]=r[n],e[n]=i)}else e[o]=i}function F(t,n,o){var i,r,s,a,u,c,l=this,p={},f=t.style,d=t.nodeType&&b(t),h=ve.get(t,"fxshow");o.queue||(u=re._queueHooks(t,"fx"),null==u.unqueued&&(u.unqueued=0,c=u.empty.fire,u.empty.fire=function(){u.unqueued||c()}),u.unqueued++,l.always(function(){l.always(function(){u.unqueued--,re.queue(t,"fx").length||u.empty.fire()})})),1===t.nodeType&&("height"in n||"width"in n)&&(o.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===re.css(t,"display")&&"none"===re.css(t,"float")&&(f.display="inline-block")),o.overflow&&(f.overflow="hidden",l.always(function(){f.overflow=o.overflow[0],f.overflowX=o.overflow[1],f.overflowY=o.overflow[2]}));for(i in n)if(r=n[i],An.exec(r)){if(delete n[i],s=s||"toggle"===r,r===(d?"hide":"show")){if("show"!==r||!h||h[i]===e)continue;d=!0}p[i]=h&&h[i]||re.style(t,i)}if(!re.isEmptyObject(p)){h?"hidden"in h&&(d=h.hidden):h=ve.access(t,"fxshow",{}),s&&(h.hidden=!d),d?re(t).show():l.done(function(){re(t).hide()}),l.done(function(){var e;ve.remove(t,"fxshow");for(e in p)re.style(t,e,p[e])});for(i in p)a=D(d?h[i]:0,i,l),i in h||(h[i]=a.start,d&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function q(t,e,n,o,i){return new q.prototype.init(t,e,n,o,i)}function L(t,e){var n,o={height:t},i=0;for(e=e?1:0;4>i;i+=2-e)n=Ge[i],o["margin"+n]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function I(t){return re.isWindow(t)?t:9===t.nodeType&&t.defaultView}var H,R,B=typeof e,W=t.location,U=t.document,J=U.documentElement,K=t.jQuery,X=t.$,V={},Q=[],Y="2.0.3",G=Q.concat,Z=Q.push,te=Q.slice,ee=Q.indexOf,ne=V.toString,oe=V.hasOwnProperty,ie=Y.trim,re=function(t,e){return new re.fn.init(t,e,H)},se=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ae=/\S+/g,ue=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,le=/^-ms-/,pe=/-([\da-z])/gi,fe=function(t,e){return e.toUpperCase()},de=function(){U.removeEventListener("DOMContentLoaded",de,!1),t.removeEventListener("load",de,!1),re.ready()};re.fn=re.prototype={jquery:Y,constructor:re,init:function(t,n,o){var i,r;if(!t)return this;if("string"==typeof t){if(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:ue.exec(t),!i||!i[1]&&n)return!n||n.jquery?(n||o).find(t):this.constructor(n).find(t);if(i[1]){if(n=n instanceof re?n[0]:n,re.merge(this,re.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:U,!0)),ce.test(i[1])&&re.isPlainObject(n))for(i in n)re.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}return r=U.getElementById(i[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=U,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):re.isFunction(t)?o.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),re.makeArray(t,this))},selector:"",length:0,toArray:function(){return te.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=re.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return re.each(this,t,e)},ready:function(t){return re.ready.promise().done(t),this},slice:function(){return this.pushStack(te.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},map:function(t){return this.pushStack(re.map(this,function(e,n){return t.call(e,n,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:[].sort,splice:[].splice},re.fn.init.prototype=re.fn,re.extend=re.fn.extend=function(){var t,n,o,i,r,s,a=arguments[0]||{},u=1,c=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[1]||{},u=2),"object"==typeof a||re.isFunction(a)||(a={}),c===u&&(a=this,--u);c>u;u++)if(null!=(t=arguments[u]))for(n in t)o=a[n],i=t[n],a!==i&&(l&&i&&(re.isPlainObject(i)||(r=re.isArray(i)))?(r?(r=!1,s=o&&re.isArray(o)?o:[]):s=o&&re.isPlainObject(o)?o:{},a[n]=re.extend(l,s,i)):i!==e&&(a[n]=i));return a},re.extend({expando:"jQuery"+(Y+Math.random()).replace(/\D/g,""),noConflict:function(e){return t.$===re&&(t.$=X),e&&t.jQuery===re&&(t.jQuery=K),re},isReady:!1,readyWait:1,holdReady:function(t){t?re.readyWait++:re.ready(!0)},ready:function(t){(t===!0?--re.readyWait:re.isReady)||(re.isReady=!0,t!==!0&&--re.readyWait>0||(R.resolveWith(U,[re]),re.fn.trigger&&re(U).trigger("ready").off("ready")))},isFunction:function(t){return"function"===re.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?V[ne.call(t)]||"object":typeof t},isPlainObject:function(t){if("object"!==re.type(t)||t.nodeType||re.isWindow(t))return!1;try{if(t.constructor&&!oe.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||U;var o=ce.exec(t),i=!n&&[];return o?[e.createElement(o[1])]:(o=re.buildFragment([t],e,i),i&&re(i).remove(),re.merge([],o.childNodes))},parseJSON:JSON.parse,parseXML:function(t){var n,o;if(!t||"string"!=typeof t)return null;try{o=new DOMParser,n=o.parseFromString(t,"text/xml")}catch(i){n=e}return(!n||n.getElementsByTagName("parsererror").length)&&re.error("Invalid XML: "+t),n},noop:function(){},globalEval:function(t){var e,n=eval;t=re.trim(t),t&&(1===t.indexOf("use strict")?(e=U.createElement("script"),e.text=t,U.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(le,"ms-").replace(pe,fe)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,o){var i,r=0,s=t.length,a=n(t);if(o){if(a)for(;s>r&&(i=e.apply(t[r],o),i!==!1);r++);else for(r in t)if(i=e.apply(t[r],o),i===!1)break}else if(a)for(;s>r&&(i=e.call(t[r],r,t[r]),i!==!1);r++);else for(r in t)if(i=e.call(t[r],r,t[r]),i===!1)break;return t},trim:function(t){return null==t?"":ie.call(t)},makeArray:function(t,e){var o=e||[];return null!=t&&(n(Object(t))?re.merge(o,"string"==typeof t?[t]:t):Z.call(o,t)),o},inArray:function(t,e,n){return null==e?-1:ee.call(e,t,n)},merge:function(t,n){var o=n.length,i=t.length,r=0;if("number"==typeof o)for(;o>r;r++)t[i++]=n[r];else for(;n[r]!==e;)t[i++]=n[r++];return t.length=i,t},grep:function(t,e,n){var o,i=[],r=0,s=t.length;for(n=!!n;s>r;r++)o=!!e(t[r],r),n!==o&&i.push(t[r]);return i},map:function(t,e,o){var i,r=0,s=t.length,a=n(t),u=[];if(a)for(;s>r;r++)i=e(t[r],r,o),null!=i&&(u[u.length]=i);else for(r in t)i=e(t[r],r,o),null!=i&&(u[u.length]=i);return G.apply([],u)},guid:1,proxy:function(t,n){var o,i,r;return"string"==typeof n&&(o=t[n],n=t,t=o),re.isFunction(t)?(i=te.call(arguments,2),r=function(){return t.apply(n||this,i.concat(te.call(arguments)))},r.guid=t.guid=t.guid||re.guid++,r):e},access:function(t,n,o,i,r,s,a){var u=0,c=t.length,l=null==o;if("object"===re.type(o)){r=!0;for(u in o)re.access(t,n,u,o[u],!0,s,a)}else if(i!==e&&(r=!0,re.isFunction(i)||(a=!0),l&&(a?(n.call(t,i),n=null):(l=n,n=function(t,e,n){return l.call(re(t),n)})),n))for(;c>u;u++)n(t[u],o,a?i:i.call(t[u],u,n(t[u],o)));return r?t:l?n.call(t):c?n(t[0],o):s},now:Date.now,swap:function(t,e,n,o){var i,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];i=n.apply(t,o||[]);for(r in e)t.style[r]=s[r];return i}}),re.ready.promise=function(e){return R||(R=re.Deferred(),"complete"===U.readyState?setTimeout(re.ready):(U.addEventListener("DOMContentLoaded",de,!1),t.addEventListener("load",de,!1))),R.promise(e)},re.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){V["[object "+e+"]"]=e.toLowerCase()}),H=re(U),function(t,e){function n(t,e,n,o){var i,r,s,a,u,c,l,p,h,m;if((e?e.ownerDocument||e:I)!==N&&P(e),e=e||N,n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=e.nodeType)&&9!==a)return[];if(D&&!o){if(i=be.exec(t))if(s=i[1]){if(9===a){if(r=e.getElementById(s),!r||!r.parentNode)return n;if(r.id===s)return n.push(r),n}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(s))&&q(e,r)&&r.id===s)return n.push(r),n}else{if(i[2])return te.apply(n,e.getElementsByTagName(t)),n;if((s=i[3])&&C.getElementsByClassName&&e.getElementsByClassName)return te.apply(n,e.getElementsByClassName(s)),n}if(C.qsa&&(!z||!z.test(t))){if(p=l=L,h=e,m=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=f(t),(l=e.getAttribute("id"))?p=l.replace(xe,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",u=c.length;u--;)c[u]=p+d(c[u]);h=de.test(t)&&e.parentNode||e,m=c.join(",")}if(m)try{return te.apply(n,h.querySelectorAll(m)),n}catch(v){}finally{l||e.removeAttribute("id")}}}return w(t.replace(le,"$1"),e,n,o)}function o(){function t(n,o){return e.push(n+=" ")>T.cacheLength&&delete t[e.shift()],t[n]=o}var e=[];return t}function i(t){return t[L]=!0,t}function r(t){var e=N.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e){for(var n=t.split("|"),o=t.length;o--;)T.attrHandle[n[o]]=e}function a(t,e){var n=e&&t,o=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||V)-(~t.sourceIndex||V);if(o)return o;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function u(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function c(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return i(function(e){return e=+e,i(function(n,o){for(var i,r=t([],n.length,e),s=r.length;s--;)n[i=r[s]]&&(n[i]=!(o[i]=n[i]))})})}function p(){}function f(t,e){var o,i,r,s,a,u,c,l=W[t+" "];if(l)return e?0:l.slice(0);for(a=t,u=[],c=T.preFilter;a;){(!o||(i=pe.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),u.push(r=[])),o=!1,(i=fe.exec(a))&&(o=i.shift(),r.push({value:o,type:i[0].replace(le," ")}),a=a.slice(o.length));for(s in T.filter)!(i=ye[s].exec(a))||c[s]&&!(i=c[s](i))||(o=i.shift(),r.push({value:o,type:s,matches:i}),a=a.slice(o.length));if(!o)break}return e?a.length:a?n.error(t):W(t,u).slice(0)}function d(t){for(var e=0,n=t.length,o="";n>e;e++)o+=t[e].value;return o}function h(t,e,n){var o=e.dir,i=n&&"parentNode"===o,r=R++;return e.first?function(e,n,r){for(;e=e[o];)if(1===e.nodeType||i)return t(e,n,r)}:function(e,n,s){var a,u,c,l=H+" "+r;if(s){for(;e=e[o];)if((1===e.nodeType||i)&&t(e,n,s))return!0}else for(;e=e[o];)if(1===e.nodeType||i)if(c=e[L]||(e[L]={}),(u=c[o])&&u[0]===l){if((a=u[1])===!0||a===k)return a===!0}else if(u=c[o]=[l],u[1]=t(e,n,s)||k,u[1]===!0)return!0}}function m(t){return t.length>1?function(e,n,o){for(var i=t.length;i--;)if(!t[i](e,n,o))return!1;return!0}:t[0]}function v(t,e,n,o,i){for(var r,s=[],a=0,u=t.length,c=null!=e;u>a;a++)(r=t[a])&&(!n||n(r,o,i))&&(s.push(r),c&&e.push(a));return s}function y(t,e,n,o,r,s){return o&&!o[L]&&(o=y(o)),r&&!r[L]&&(r=y(r,s)),i(function(i,s,a,u){var c,l,p,f=[],d=[],h=s.length,m=i||_(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?m:v(m,f,t,a,u),g=n?r||(i?t:h||o)?[]:s:y;if(n&&n(y,g,a,u),o)for(c=v(g,d),o(c,[],a,u),l=c.length;l--;)(p=c[l])&&(g[d[l]]=!(y[d[l]]=p));if(i){if(r||t){if(r){for(c=[],l=g.length;l--;)(p=g[l])&&c.push(y[l]=p);r(null,g=[],c,u)}for(l=g.length;l--;)(p=g[l])&&(c=r?ne.call(i,p):f[l])>-1&&(i[c]=!(s[c]=p))}}else g=v(g===s?g.splice(h,g.length):g),r?r(null,s,g,u):te.apply(s,g)})}function g(t){for(var e,n,o,i=t.length,r=T.relative[t[0].type],s=r||T.relative[" "],a=r?1:0,u=h(function(t){return t===e},s,!0),c=h(function(t){return ne.call(e,t)>-1},s,!0),l=[function(t,n,o){return!r&&(o||n!==O)||((e=n).nodeType?u(t,n,o):c(t,n,o))}];i>a;a++)if(n=T.relative[t[a].type])l=[h(m(l),n)];else{if(n=T.filter[t[a].type].apply(null,t[a].matches),n[L]){for(o=++a;i>o&&!T.relative[t[o].type];o++);return y(a>1&&m(l),a>1&&d(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(le,"$1"),n,o>a&&g(t.slice(a,o)),i>o&&g(t=t.slice(o)),i>o&&d(t))}l.push(n)}return m(l)}function b(t,e){var o=0,r=e.length>0,s=t.length>0,a=function(i,a,u,c,l){var p,f,d,h=[],m=0,y="0",g=i&&[],b=null!=l,_=O,w=i||s&&T.find.TAG("*",l&&a.parentNode||a),x=H+=null==_?1:Math.random()||.1;for(b&&(O=a!==N&&a,k=o);null!=(p=w[y]);y++){if(s&&p){for(f=0;d=t[f++];)if(d(p,a,u)){c.push(p);break}b&&(H=x,k=++o)}r&&((p=!d&&p)&&m--,i&&g.push(p))}if(m+=y,r&&y!==m){for(f=0;d=e[f++];)d(g,h,a,u);if(i){if(m>0)for(;y--;)g[y]||h[y]||(h[y]=G.call(c));h=v(h)}te.apply(c,h),b&&!i&&h.length>0&&m+e.length>1&&n.uniqueSort(c)}return b&&(H=x,O=_),g};return r?i(a):a}function _(t,e,o){for(var i=0,r=e.length;r>i;i++)n(t,e[i],o);return o}function w(t,e,n,o){var i,r,s,a,u,c=f(t);if(!o&&1===c.length){if(r=c[0]=c[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&C.getById&&9===e.nodeType&&D&&T.relative[r[1].type]){if(e=(T.find.ID(s.matches[0].replace(Ce,ke),e)||[])[0],!e)return n;t=t.slice(r.shift().value.length)}for(i=ye.needsContext.test(t)?0:r.length;i--&&(s=r[i],!T.relative[a=s.type]);)if((u=T.find[a])&&(o=u(s.matches[0].replace(Ce,ke),de.test(r[0].type)&&e.parentNode||e))){if(r.splice(i,1),t=o.length&&d(r),!t)return te.apply(n,o),n;break}}return j(t,c)(o,e,!D,n,de.test(t)),n}var x,C,k,T,S,E,j,O,A,P,N,$,D,z,M,F,q,L="sizzle"+-new Date,I=t.document,H=0,R=0,B=o(),W=o(),U=o(),J=!1,K=function(t,e){return t===e?(J=!0,0):0},X=typeof e,V=1<<31,Q={}.hasOwnProperty,Y=[],G=Y.pop,Z=Y.push,te=Y.push,ee=Y.slice,ne=Y.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},oe="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",se="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ae=se.replace("w","w#"),ue="\\["+ie+"*("+se+")"+ie+"*(?:([*^$|!~]?=)"+ie+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ae+")|)|)"+ie+"*\\]",ce=":("+se+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ue.replace(3,8)+")*)|.*)\\)|)",le=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),pe=new RegExp("^"+ie+"*,"+ie+"*"),fe=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),de=new RegExp(ie+"*[+~]"),he=new RegExp("="+ie+"*([^\\]'\"]*)"+ie+"*\\]","g"),me=new RegExp(ce),ve=new RegExp("^"+ae+"$"),ye={ID:new RegExp("^#("+se+")"),CLASS:new RegExp("^\\.("+se+")"),TAG:new RegExp("^("+se.replace("w","w*")+")"),ATTR:new RegExp("^"+ue),PSEUDO:new RegExp("^"+ce),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+oe+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},ge=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_e=/^(?:input|select|textarea|button)$/i,we=/^h\d$/i,xe=/'|\\/g,Ce=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),ke=function(t,e,n){var o="0x"+e-65536;return o!==o||n?e:0>o?String.fromCharCode(o+65536):String.fromCharCode(55296|o>>10,56320|1023&o)};try{te.apply(Y=ee.call(I.childNodes),I.childNodes),Y[I.childNodes.length].nodeType}catch(Te){te={apply:Y.length?function(t,e){Z.apply(t,ee.call(e))}:function(t,e){for(var n=t.length,o=0;t[n++]=e[o++];);t.length=n-1}}}E=n.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},C=n.support={},P=n.setDocument=function(t){var e=t?t.ownerDocument||t:I,n=e.defaultView;return e!==N&&9===e.nodeType&&e.documentElement?(N=e,$=e.documentElement,D=!E(e),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){P()}),C.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),C.getElementsByTagName=r(function(t){return t.appendChild(e.createComment("")),!t.getElementsByTagName("*").length}),C.getElementsByClassName=r(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),C.getById=r(function(t){return $.appendChild(t).id=L,!e.getElementsByName||!e.getElementsByName(L).length}),C.getById?(T.find.ID=function(t,e){if(typeof e.getElementById!==X&&D){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(t){var e=t.replace(Ce,ke);return function(t){return t.getAttribute("id")===e}}):(delete T.find.ID,T.filter.ID=function(t){var e=t.replace(Ce,ke);return function(t){var n=typeof t.getAttributeNode!==X&&t.getAttributeNode("id");return n&&n.value===e}}),T.find.TAG=C.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==X?e.getElementsByTagName(t):void 0}:function(t,e){var n,o=[],i=0,r=e.getElementsByTagName(t);if("*"===t){for(;n=r[i++];)1===n.nodeType&&o.push(n);return o}return r},T.find.CLASS=C.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==X&&D?e.getElementsByClassName(t):void 0},M=[],z=[],(C.qsa=ge.test(e.querySelectorAll))&&(r(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||z.push("\\["+ie+"*(?:value|"+oe+")"),t.querySelectorAll(":checked").length||z.push(":checked")}),r(function(t){var n=e.createElement("input");n.setAttribute("type","hidden"),t.appendChild(n).setAttribute("t",""),t.querySelectorAll("[t^='']").length&&z.push("[*^$]="+ie+"*(?:''|\"\")"),t.querySelectorAll(":enabled").length||z.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),z.push(",.*:")})),(C.matchesSelector=ge.test(F=$.webkitMatchesSelector||$.mozMatchesSelector||$.oMatchesSelector||$.msMatchesSelector))&&r(function(t){C.disconnectedMatch=F.call(t,"div"),F.call(t,"[s!='']:x"),M.push("!=",ce)}),z=z.length&&new RegExp(z.join("|")),M=M.length&&new RegExp(M.join("|")),q=ge.test($.contains)||$.compareDocumentPosition?function(t,e){var n=9===t.nodeType?t.documentElement:t,o=e&&e.parentNode;return t===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):t.compareDocumentPosition&&16&t.compareDocumentPosition(o)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},K=$.compareDocumentPosition?function(t,n){if(t===n)return J=!0,0;var o=n.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(n);return o?1&o||!C.sortDetached&&n.compareDocumentPosition(t)===o?t===e||q(I,t)?-1:n===e||q(I,n)?1:A?ne.call(A,t)-ne.call(A,n):0:4&o?-1:1:t.compareDocumentPosition?-1:1}:function(t,n){var o,i=0,r=t.parentNode,s=n.parentNode,u=[t],c=[n];if(t===n)return J=!0,0;if(!r||!s)return t===e?-1:n===e?1:r?-1:s?1:A?ne.call(A,t)-ne.call(A,n):0;if(r===s)return a(t,n);for(o=t;o=o.parentNode;)u.unshift(o);for(o=n;o=o.parentNode;)c.unshift(o);for(;u[i]===c[i];)i++;return i?a(u[i],c[i]):u[i]===I?-1:c[i]===I?1:0},e):N},n.matches=function(t,e){return n(t,null,null,e)},n.matchesSelector=function(t,e){if((t.ownerDocument||t)!==N&&P(t),e=e.replace(he,"='$1']"),!(!C.matchesSelector||!D||M&&M.test(e)||z&&z.test(e)))try{var o=F.call(t,e);if(o||C.disconnectedMatch||t.document&&11!==t.document.nodeType)return o}catch(i){}return n(e,N,null,[t]).length>0},n.contains=function(t,e){return(t.ownerDocument||t)!==N&&P(t),q(t,e)},n.attr=function(t,n){(t.ownerDocument||t)!==N&&P(t);var o=T.attrHandle[n.toLowerCase()],i=o&&Q.call(T.attrHandle,n.toLowerCase())?o(t,n,!D):e;return i===e?C.attributes||!D?t.getAttribute(n):(i=t.getAttributeNode(n))&&i.specified?i.value:null:i},n.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},n.uniqueSort=function(t){var e,n=[],o=0,i=0;if(J=!C.detectDuplicates,A=!C.sortStable&&t.slice(0),t.sort(K),J){for(;e=t[i++];)e===t[i]&&(o=n.push(i));for(;o--;)t.splice(n[o],1)}return t},S=n.getText=function(t){var e,n="",o=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=S(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[o];o++)n+=S(e);return n},T=n.selectors={cacheLength:50,createPseudo:i,match:ye,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Ce,ke),t[3]=(t[4]||t[5]||"").replace(Ce,ke),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||n.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&n.error(t[0]),t},PSEUDO:function(t){var n,o=!t[5]&&t[2];return ye.CHILD.test(t[0])?null:(t[3]&&t[4]!==e?t[2]=t[4]:o&&me.test(o)&&(n=f(o,!0))&&(n=o.indexOf(")",o.length-n)-o.length)&&(t[0]=t[0].slice(0,n),t[2]=o.slice(0,n)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Ce,ke).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=B[t+" "];return e||(e=new RegExp("(^|"+ie+")"+t+"("+ie+"|$)"))&&B(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==X&&t.getAttribute("class")||"")})},ATTR:function(t,e,o){return function(i){var r=n.attr(i,t);return null==r?"!="===e:e?(r+="","="===e?r===o:"!="===e?r!==o:"^="===e?o&&0===r.indexOf(o):"*="===e?o&&r.indexOf(o)>-1:"$="===e?o&&r.slice(-o.length)===o:"~="===e?(" "+r+" ").indexOf(o)>-1:"|="===e?r===o||r.slice(0,o.length+1)===o+"-":!1):!0}},CHILD:function(t,e,n,o,i){var r="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===o&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var c,l,p,f,d,h,m=r!==s?"nextSibling":"previousSibling",v=e.parentNode,y=a&&e.nodeName.toLowerCase(),g=!u&&!a;if(v){if(r){for(;m;){for(p=e;p=p[m];)if(a?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=m="only"===t&&!h&&"nextSibling"}return!0}if(h=[s?v.firstChild:v.lastChild],s&&g){for(l=v[L]||(v[L]={}),c=l[t]||[],d=c[0]===H&&c[1],f=c[0]===H&&c[2],p=d&&v.childNodes[d];p=++d&&p&&p[m]||(f=d=0)||h.pop();)if(1===p.nodeType&&++f&&p===e){l[t]=[H,d,f];break}}else if(g&&(c=(e[L]||(e[L]={}))[t])&&c[0]===H)f=c[1];
else for(;(p=++d&&p&&p[m]||(f=d=0)||h.pop())&&((a?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++f||(g&&((p[L]||(p[L]={}))[t]=[H,f]),p!==e)););return f-=i,f===o||0===f%o&&f/o>=0}}},PSEUDO:function(t,e){var o,r=T.pseudos[t]||T.setFilters[t.toLowerCase()]||n.error("unsupported pseudo: "+t);return r[L]?r(e):r.length>1?(o=[t,t,"",e],T.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,n){for(var o,i=r(t,e),s=i.length;s--;)o=ne.call(t,i[s]),t[o]=!(n[o]=i[s])}):function(t){return r(t,0,o)}):r}},pseudos:{not:i(function(t){var e=[],n=[],o=j(t.replace(le,"$1"));return o[L]?i(function(t,e,n,i){for(var r,s=o(t,null,i,[]),a=t.length;a--;)(r=s[a])&&(t[a]=!(e[a]=r))}):function(t,i,r){return e[0]=t,o(e,null,r,n),!n.pop()}}),has:i(function(t){return function(e){return n(t,e).length>0}}),contains:i(function(t){return function(e){return(e.textContent||e.innerText||S(e)).indexOf(t)>-1}}),lang:i(function(t){return ve.test(t||"")||n.error("unsupported lang: "+t),t=t.replace(Ce,ke).toLowerCase(),function(e){var n;do if(n=D?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===$},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!T.pseudos.empty(t)},header:function(t){return we.test(t.nodeName)},input:function(t){return _e.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[0>n?n+e:n]}),even:l(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var o=0>n?n+e:n;--o>=0;)t.push(o);return t}),gt:l(function(t,e,n){for(var o=0>n?n+e:n;++o<e;)t.push(o);return t})}},T.pseudos.nth=T.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[x]=u(x);for(x in{submit:!0,reset:!0})T.pseudos[x]=c(x);p.prototype=T.filters=T.pseudos,T.setFilters=new p,j=n.compile=function(t,e){var n,o=[],i=[],r=U[t+" "];if(!r){for(e||(e=f(t)),n=e.length;n--;)r=g(e[n]),r[L]?o.push(r):i.push(r);r=U(t,b(i,o))}return r},C.sortStable=L.split("").sort(K).join("")===L,C.detectDuplicates=J,P(),C.sortDetached=r(function(t){return 1&t.compareDocumentPosition(N.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||s("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),C.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||s("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||s(oe,function(t,e,n){var o;return n?void 0:(o=t.getAttributeNode(e))&&o.specified?o.value:t[e]===!0?e.toLowerCase():null}),re.find=n,re.expr=n.selectors,re.expr[":"]=re.expr.pseudos,re.unique=n.uniqueSort,re.text=n.getText,re.isXMLDoc=n.isXML,re.contains=n.contains}(t);var he={};re.Callbacks=function(t){t="string"==typeof t?he[t]||o(t):re.extend({},t);var n,i,r,s,a,u,c=[],l=!t.once&&[],p=function(e){for(n=t.memory&&e,i=!0,u=s||0,s=0,a=c.length,r=!0;c&&a>u;u++)if(c[u].apply(e[0],e[1])===!1&&t.stopOnFalse){n=!1;break}r=!1,c&&(l?l.length&&p(l.shift()):n?c=[]:f.disable())},f={add:function(){if(c){var e=c.length;!function o(e){re.each(e,function(e,n){var i=re.type(n);"function"===i?t.unique&&f.has(n)||c.push(n):n&&n.length&&"string"!==i&&o(n)})}(arguments),r?a=c.length:n&&(s=e,p(n))}return this},remove:function(){return c&&re.each(arguments,function(t,e){for(var n;(n=re.inArray(e,c,n))>-1;)c.splice(n,1),r&&(a>=n&&a--,u>=n&&u--)}),this},has:function(t){return t?re.inArray(t,c)>-1:!(!c||!c.length)},empty:function(){return c=[],a=0,this},disable:function(){return c=l=n=e,this},disabled:function(){return!c},lock:function(){return l=e,n||f.disable(),this},locked:function(){return!l},fireWith:function(t,e){return!c||i&&!l||(e=e||[],e=[t,e.slice?e.slice():e],r?l.push(e):p(e)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!i}};return f},re.extend({Deferred:function(t){var e=[["resolve","done",re.Callbacks("once memory"),"resolved"],["reject","fail",re.Callbacks("once memory"),"rejected"],["notify","progress",re.Callbacks("memory")]],n="pending",o={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return re.Deferred(function(n){re.each(e,function(e,r){var s=r[0],a=re.isFunction(t[e])&&t[e];i[r[1]](function(){var t=a&&a.apply(this,arguments);t&&re.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===o?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?re.extend(t,o):o}},i={};return o.pipe=o.then,re.each(e,function(t,r){var s=r[2],a=r[3];o[r[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),i[r[0]]=function(){return i[r[0]+"With"](this===i?o:this,arguments),this},i[r[0]+"With"]=s.fireWith}),o.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,o,i=0,r=te.call(arguments),s=r.length,a=1!==s||t&&re.isFunction(t.promise)?s:0,u=1===a?t:re.Deferred(),c=function(t,n,o){return function(i){n[t]=this,o[t]=arguments.length>1?te.call(arguments):i,o===e?u.notifyWith(n,o):--a||u.resolveWith(n,o)}};if(s>1)for(e=new Array(s),n=new Array(s),o=new Array(s);s>i;i++)r[i]&&re.isFunction(r[i].promise)?r[i].promise().done(c(i,o,r)).fail(u.reject).progress(c(i,n,e)):--a;return a||u.resolveWith(o,r),u.promise()}}),re.support=function(e){var n=U.createElement("input"),o=U.createDocumentFragment(),i=U.createElement("div"),r=U.createElement("select"),s=r.appendChild(U.createElement("option"));return n.type?(n.type="checkbox",e.checkOn=""!==n.value,e.optSelected=s.selected,e.reliableMarginRight=!0,e.boxSizingReliable=!0,e.pixelPosition=!1,n.checked=!0,e.noCloneChecked=n.cloneNode(!0).checked,r.disabled=!0,e.optDisabled=!s.disabled,n=U.createElement("input"),n.value="t",n.type="radio",e.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),o.appendChild(n),e.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,e.focusinBubbles="onfocusin"in t,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===i.style.backgroundClip,re(function(){var n,o,r="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",s=U.getElementsByTagName("body")[0];s&&(n=U.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(n).appendChild(i),i.innerHTML="",i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",re.swap(s,null!=s.style.zoom?{zoom:1}:{},function(){e.boxSizing=4===i.offsetWidth}),t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(i,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(i,null)||{width:"4px"}).width,o=i.appendChild(U.createElement("div")),o.style.cssText=i.style.cssText=r,o.style.marginRight=o.style.width="0",i.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(o,null)||{}).marginRight)),s.removeChild(n))}),e):e}({});var me,ve,ye=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ge=/([A-Z])/g;i.uid=1,i.accepts=function(t){return t.nodeType?1===t.nodeType||9===t.nodeType:!0},i.prototype={key:function(t){if(!i.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=i.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(o){e[this.expando]=n,re.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var o,i=this.key(t),r=this.cache[i];if("string"==typeof e)r[e]=n;else if(re.isEmptyObject(r))re.extend(this.cache[i],e);else for(o in e)r[o]=e[o];return r},get:function(t,n){var o=this.cache[this.key(t)];return n===e?o:o[n]},access:function(t,n,o){var i;return n===e||n&&"string"==typeof n&&o===e?(i=this.get(t,n),i!==e?i:this.get(t,re.camelCase(n))):(this.set(t,n,o),o!==e?o:n)},remove:function(t,n){var o,i,r,s=this.key(t),a=this.cache[s];if(n===e)this.cache[s]={};else{re.isArray(n)?i=n.concat(n.map(re.camelCase)):(r=re.camelCase(n),n in a?i=[n,r]:(i=r,i=i in a?[i]:i.match(ae)||[])),o=i.length;for(;o--;)delete a[i[o]]}},hasData:function(t){return!re.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}},me=new i,ve=new i,re.extend({acceptData:i.accepts,hasData:function(t){return me.hasData(t)||ve.hasData(t)},data:function(t,e,n){return me.access(t,e,n)},removeData:function(t,e){me.remove(t,e)},_data:function(t,e,n){return ve.access(t,e,n)},_removeData:function(t,e){ve.remove(t,e)}}),re.fn.extend({data:function(t,n){var o,i,s=this[0],a=0,u=null;if(t===e){if(this.length&&(u=me.get(s),1===s.nodeType&&!ve.get(s,"hasDataAttrs"))){for(o=s.attributes;a<o.length;a++)i=o[a].name,0===i.indexOf("data-")&&(i=re.camelCase(i.slice(5)),r(s,i,u[i]));ve.set(s,"hasDataAttrs",!0)}return u}return"object"==typeof t?this.each(function(){me.set(this,t)}):re.access(this,function(n){var o,i=re.camelCase(t);if(s&&n===e){if(o=me.get(s,t),o!==e)return o;if(o=me.get(s,i),o!==e)return o;if(o=r(s,i,e),o!==e)return o}else this.each(function(){var o=me.get(this,i);me.set(this,i,n),-1!==t.indexOf("-")&&o!==e&&me.set(this,t,n)})},null,n,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){me.remove(this,t)})}}),re.extend({queue:function(t,e,n){var o;return t?(e=(e||"fx")+"queue",o=ve.get(t,e),n&&(!o||re.isArray(n)?o=ve.access(t,e,re.makeArray(n)):o.push(n)),o||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=re.queue(t,e),o=n.length,i=n.shift(),r=re._queueHooks(t,e),s=function(){re.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),o--),i&&("fx"===e&&n.unshift("inprogress"),delete r.stop,i.call(t,s,r)),!o&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ve.get(t,n)||ve.access(t,n,{empty:re.Callbacks("once memory").add(function(){ve.remove(t,[e+"queue",n])})})}}),re.fn.extend({queue:function(t,n){var o=2;return"string"!=typeof t&&(n=t,t="fx",o--),arguments.length<o?re.queue(this[0],t):n===e?this:this.each(function(){var e=re.queue(this,t,n);re._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&re.dequeue(this,t)})},dequeue:function(t){return this.each(function(){re.dequeue(this,t)})},delay:function(t,e){return t=re.fx?re.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var o=setTimeout(e,t);n.stop=function(){clearTimeout(o)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,n){var o,i=1,r=re.Deferred(),s=this,a=this.length,u=function(){--i||r.resolveWith(s,[s])};for("string"!=typeof t&&(n=t,t=e),t=t||"fx";a--;)o=ve.get(s[a],t+"queueHooks"),o&&o.empty&&(i++,o.empty.add(u));return u(),r.promise(n)}});var be,_e,we=/[\t\r\n\f]/g,xe=/\r/g,Ce=/^(?:input|select|textarea|button)$/i;re.fn.extend({attr:function(t,e){return re.access(this,re.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){re.removeAttr(this,t)})},prop:function(t,e){return re.access(this,re.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[re.propFix[t]||t]})},addClass:function(t){var e,n,o,i,r,s=0,a=this.length,u="string"==typeof t&&t;if(re.isFunction(t))return this.each(function(e){re(this).addClass(t.call(this,e,this.className))});if(u)for(e=(t||"").match(ae)||[];a>s;s++)if(n=this[s],o=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(we," "):" ")){for(r=0;i=e[r++];)o.indexOf(" "+i+" ")<0&&(o+=i+" ");n.className=re.trim(o)}return this},removeClass:function(t){var e,n,o,i,r,s=0,a=this.length,u=0===arguments.length||"string"==typeof t&&t;if(re.isFunction(t))return this.each(function(e){re(this).removeClass(t.call(this,e,this.className))});if(u)for(e=(t||"").match(ae)||[];a>s;s++)if(n=this[s],o=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(we," "):"")){for(r=0;i=e[r++];)for(;o.indexOf(" "+i+" ")>=0;)o=o.replace(" "+i+" "," ");n.className=t?re.trim(o):""}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):re.isFunction(t)?this.each(function(n){re(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var e,o=0,i=re(this),r=t.match(ae)||[];e=r[o++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else(n===B||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||t===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,o=this.length;o>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(we," ").indexOf(e)>=0)return!0;return!1},val:function(t){var n,o,i,r=this[0];{if(arguments.length)return i=re.isFunction(t),this.each(function(o){var r;1===this.nodeType&&(r=i?t.call(this,o,re(this).val()):t,null==r?r="":"number"==typeof r?r+="":re.isArray(r)&&(r=re.map(r,function(t){return null==t?"":t+""})),n=re.valHooks[this.type]||re.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,r,"value")!==e||(this.value=r))});if(r)return n=re.valHooks[r.type]||re.valHooks[r.nodeName.toLowerCase()],n&&"get"in n&&(o=n.get(r,"value"))!==e?o:(o=r.value,"string"==typeof o?o.replace(xe,""):null==o?"":o)}}}),re.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){for(var e,n,o=t.options,i=t.selectedIndex,r="select-one"===t.type||0>i,s=r?null:[],a=r?i+1:o.length,u=0>i?a:r?i:0;a>u;u++)if(n=o[u],!(!n.selected&&u!==i||(re.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&re.nodeName(n.parentNode,"optgroup"))){if(e=re(n).val(),r)return e;s.push(e)}return s},set:function(t,e){for(var n,o,i=t.options,r=re.makeArray(e),s=i.length;s--;)o=i[s],(o.selected=re.inArray(re(o).val(),r)>=0)&&(n=!0);return n||(t.selectedIndex=-1),r}}},attr:function(t,n,o){var i,r,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return typeof t.getAttribute===B?re.prop(t,n,o):(1===s&&re.isXMLDoc(t)||(n=n.toLowerCase(),i=re.attrHooks[n]||(re.expr.match.bool.test(n)?_e:be)),o===e?i&&"get"in i&&null!==(r=i.get(t,n))?r:(r=re.find.attr(t,n),null==r?e:r):null!==o?i&&"set"in i&&(r=i.set(t,o,n))!==e?r:(t.setAttribute(n,o+""),o):(re.removeAttr(t,n),void 0))},removeAttr:function(t,e){var n,o,i=0,r=e&&e.match(ae);if(r&&1===t.nodeType)for(;n=r[i++];)o=re.propFix[n]||n,re.expr.match.bool.test(n)&&(t[o]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!re.support.radioValue&&"radio"===e&&re.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(t,n,o){var i,r,s,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return s=1!==a||!re.isXMLDoc(t),s&&(n=re.propFix[n]||n,r=re.propHooks[n]),o!==e?r&&"set"in r&&(i=r.set(t,o,n))!==e?i:t[n]=o:r&&"get"in r&&null!==(i=r.get(t,n))?i:t[n]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||Ce.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),_e={set:function(t,e,n){return e===!1?re.removeAttr(t,n):t.setAttribute(n,n),n}},re.each(re.expr.match.bool.source.match(/\w+/g),function(t,n){var o=re.expr.attrHandle[n]||re.find.attr;re.expr.attrHandle[n]=function(t,n,i){var r=re.expr.attrHandle[n],s=i?e:(re.expr.attrHandle[n]=e)!=o(t,n,i)?n.toLowerCase():null;return re.expr.attrHandle[n]=r,s}}),re.support.optSelected||(re.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),re.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){re.propFix[this.toLowerCase()]=this}),re.each(["radio","checkbox"],function(){re.valHooks[this]={set:function(t,e){return re.isArray(e)?t.checked=re.inArray(re(t).val(),e)>=0:void 0}},re.support.checkOn||(re.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ke=/^key/,Te=/^(?:mouse|contextmenu)|click/,Se=/^(?:focusinfocus|focusoutblur)$/,Ee=/^([^.]*)(?:\.(.+)|)$/;re.event={global:{},add:function(t,n,o,i,r){var s,a,u,c,l,p,f,d,h,m,v,y=ve.get(t);if(y){for(o.handler&&(s=o,o=s.handler,r=s.selector),o.guid||(o.guid=re.guid++),(c=y.events)||(c=y.events={}),(a=y.handle)||(a=y.handle=function(t){return typeof re===B||t&&re.event.triggered===t.type?e:re.event.dispatch.apply(a.elem,arguments)},a.elem=t),n=(n||"").match(ae)||[""],l=n.length;l--;)u=Ee.exec(n[l])||[],h=v=u[1],m=(u[2]||"").split(".").sort(),h&&(f=re.event.special[h]||{},h=(r?f.delegateType:f.bindType)||h,f=re.event.special[h]||{},p=re.extend({type:h,origType:v,data:i,handler:o,guid:o.guid,selector:r,needsContext:r&&re.expr.match.needsContext.test(r),namespace:m.join(".")},s),(d=c[h])||(d=c[h]=[],d.delegateCount=0,f.setup&&f.setup.call(t,i,m,a)!==!1||t.addEventListener&&t.addEventListener(h,a,!1)),f.add&&(f.add.call(t,p),p.handler.guid||(p.handler.guid=o.guid)),r?d.splice(d.delegateCount++,0,p):d.push(p),re.event.global[h]=!0);t=null}},remove:function(t,e,n,o,i){var r,s,a,u,c,l,p,f,d,h,m,v=ve.hasData(t)&&ve.get(t);if(v&&(u=v.events)){for(e=(e||"").match(ae)||[""],c=e.length;c--;)if(a=Ee.exec(e[c])||[],d=m=a[1],h=(a[2]||"").split(".").sort(),d){for(p=re.event.special[d]||{},d=(o?p.delegateType:p.bindType)||d,f=u[d]||[],a=a[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=f.length;r--;)l=f[r],!i&&m!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||o&&o!==l.selector&&("**"!==o||!l.selector)||(f.splice(r,1),l.selector&&f.delegateCount--,p.remove&&p.remove.call(t,l));s&&!f.length&&(p.teardown&&p.teardown.call(t,h,v.handle)!==!1||re.removeEvent(t,d,v.handle),delete u[d])}else for(d in u)re.event.remove(t,d+e[c],n,o,!0);re.isEmptyObject(u)&&(delete v.handle,ve.remove(t,"events"))}},trigger:function(n,o,i,r){var s,a,u,c,l,p,f,d=[i||U],h=oe.call(n,"type")?n.type:n,m=oe.call(n,"namespace")?n.namespace.split("."):[];if(a=u=i=i||U,3!==i.nodeType&&8!==i.nodeType&&!Se.test(h+re.event.triggered)&&(h.indexOf(".")>=0&&(m=h.split("."),h=m.shift(),m.sort()),l=h.indexOf(":")<0&&"on"+h,n=n[re.expando]?n:new re.Event(h,"object"==typeof n&&n),n.isTrigger=r?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=e,n.target||(n.target=i),o=null==o?[n]:re.makeArray(o,[n]),f=re.event.special[h]||{},r||!f.trigger||f.trigger.apply(i,o)!==!1)){if(!r&&!f.noBubble&&!re.isWindow(i)){for(c=f.delegateType||h,Se.test(c+h)||(a=a.parentNode);a;a=a.parentNode)d.push(a),u=a;u===(i.ownerDocument||U)&&d.push(u.defaultView||u.parentWindow||t)}for(s=0;(a=d[s++])&&!n.isPropagationStopped();)n.type=s>1?c:f.bindType||h,p=(ve.get(a,"events")||{})[n.type]&&ve.get(a,"handle"),p&&p.apply(a,o),p=l&&a[l],p&&re.acceptData(a)&&p.apply&&p.apply(a,o)===!1&&n.preventDefault();return n.type=h,r||n.isDefaultPrevented()||f._default&&f._default.apply(d.pop(),o)!==!1||!re.acceptData(i)||l&&re.isFunction(i[h])&&!re.isWindow(i)&&(u=i[l],u&&(i[l]=null),re.event.triggered=h,i[h](),re.event.triggered=e,u&&(i[l]=u)),n.result}},dispatch:function(t){t=re.event.fix(t);var n,o,i,r,s,a=[],u=te.call(arguments),c=(ve.get(this,"events")||{})[t.type]||[],l=re.event.special[t.type]||{};if(u[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(a=re.event.handlers.call(this,t,c),n=0;(r=a[n++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,o=0;(s=r.handlers[o++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(s.namespace))&&(t.handleObj=s,t.data=s.data,i=((re.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,u),i!==e&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,n){var o,i,r,s,a=[],u=n.delegateCount,c=t.target;if(u&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!==this;c=c.parentNode||this)if(c.disabled!==!0||"click"!==t.type){for(i=[],o=0;u>o;o++)s=n[o],r=s.selector+" ",i[r]===e&&(i[r]=s.needsContext?re(r,this).index(c)>=0:re.find(r,this,null,[c]).length),i[r]&&i.push(s);i.length&&a.push({elem:c,handlers:i})}return u<n.length&&a.push({elem:this,handlers:n.slice(u)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,n){var o,i,r,s=n.button;return null==t.pageX&&null!=n.clientX&&(o=t.target.ownerDocument||U,i=o.documentElement,r=o.body,t.pageX=n.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=n.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||s===e||(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(t){if(t[re.expando])return t;var e,n,o,i=t.type,r=t,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=Te.test(i)?this.mouseHooks:ke.test(i)?this.keyHooks:{}),o=s.props?this.props.concat(s.props):this.props,t=new re.Event(r),e=o.length;e--;)n=o[e],t[n]=r[n];return t.target||(t.target=U),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,r):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==u()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&re.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return re.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,o){var i=re.extend(new re.Event,n,{type:t,isSimulated:!0,originalEvent:{}});o?re.event.trigger(i,null,e):re.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},re.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},re.Event=function(t,e){return this instanceof re.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.getPreventDefault&&t.getPreventDefault()?s:a):this.type=t,e&&re.extend(this,e),this.timeStamp=t&&t.timeStamp||re.now(),this[re.expando]=!0,void 0):new re.Event(t,e)},re.Event.prototype={isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=s,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=s,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()}},re.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){re.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,o=this,i=t.relatedTarget,r=t.handleObj;return(!i||i!==o&&!re.contains(o,i))&&(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),re.support.focusinBubbles||re.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,o=function(t){re.event.simulate(e,t.target,re.event.fix(t),!0)};re.event.special[e]={setup:function(){0===n++&&U.addEventListener(t,o,!0)},teardown:function(){0===--n&&U.removeEventListener(t,o,!0)}}}),re.fn.extend({on:function(t,n,o,i,r){var s,u;if("object"==typeof t){"string"!=typeof n&&(o=o||n,n=e);for(u in t)this.on(u,n,o,t[u],r);return this}if(null==o&&null==i?(i=n,o=n=e):null==i&&("string"==typeof n?(i=o,o=e):(i=o,o=n,n=e)),i===!1)i=a;else if(!i)return this;return 1===r&&(s=i,i=function(t){return re().off(t),s.apply(this,arguments)},i.guid=s.guid||(s.guid=re.guid++)),this.each(function(){re.event.add(this,t,i,o,n)})},one:function(t,e,n,o){return this.on(t,e,n,o,1)},off:function(t,n,o){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,re(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,n,t[r]);return this}return(n===!1||"function"==typeof n)&&(o=n,n=e),o===!1&&(o=a),this.each(function(){re.event.remove(this,t,o,n)})},trigger:function(t,e){return this.each(function(){re.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?re.event.trigger(t,e,n,!0):void 0}});var je=/^.[^:#\[\.,]*$/,Oe=/^(?:parents|prev(?:Until|All))/,Ae=re.expr.match.needsContext,Pe={children:!0,contents:!0,next:!0,prev:!0};re.fn.extend({find:function(t){var e,n=[],o=this,i=o.length;if("string"!=typeof t)return this.pushStack(re(t).filter(function(){for(e=0;i>e;e++)if(re.contains(o[e],this))return!0}));for(e=0;i>e;e++)re.find(t,o[e],n);return n=this.pushStack(i>1?re.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},has:function(t){var e=re(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(re.contains(this,e[t]))return!0})},not:function(t){return this.pushStack(l(this,t||[],!0))},filter:function(t){return this.pushStack(l(this,t||[],!1))},is:function(t){return!!l(this,"string"==typeof t&&Ae.test(t)?re(t):t||[],!1).length},closest:function(t,e){for(var n,o=0,i=this.length,r=[],s=Ae.test(t)||"string"!=typeof t?re(t,e||this.context):0;i>o;o++)for(n=this[o];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&re.find.matchesSelector(n,t))){n=r.push(n);break}return this.pushStack(r.length>1?re.unique(r):r)},index:function(t){return t?"string"==typeof t?ee.call(re(t),this[0]):ee.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var n="string"==typeof t?re(t,e):re.makeArray(t&&t.nodeType?[t]:t),o=re.merge(this.get(),n);return this.pushStack(re.unique(o))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),re.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return re.dir(t,"parentNode")},parentsUntil:function(t,e,n){return re.dir(t,"parentNode",n)},next:function(t){return c(t,"nextSibling")},prev:function(t){return c(t,"previousSibling")},nextAll:function(t){return re.dir(t,"nextSibling")},prevAll:function(t){return re.dir(t,"previousSibling")},nextUntil:function(t,e,n){return re.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return re.dir(t,"previousSibling",n)},siblings:function(t){return re.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return re.sibling(t.firstChild)},contents:function(t){return t.contentDocument||re.merge([],t.childNodes)}},function(t,e){re.fn[t]=function(n,o){var i=re.map(this,e,n);return"Until"!==t.slice(-5)&&(o=n),o&&"string"==typeof o&&(i=re.filter(o,i)),this.length>1&&(Pe[t]||re.unique(i),Oe.test(t)&&i.reverse()),this.pushStack(i)}}),re.extend({filter:function(t,e,n){var o=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===o.nodeType?re.find.matchesSelector(o,t)?[o]:[]:re.find.matches(t,re.grep(e,function(t){return 1===t.nodeType}))},dir:function(t,n,o){for(var i=[],r=o!==e;(t=t[n])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&re(t).is(o))break;i.push(t)}return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}});var Ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,$e=/<([\w:]+)/,De=/<|&#?\w+;/,ze=/<(?:script|style|link)/i,Me=/^(?:checkbox|radio)$/i,Fe=/checked\s*(?:[^=]|=\s*.checked.)/i,qe=/^$|\/(?:java|ecma)script/i,Le=/^true\/(.*)/,Ie=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,He={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};He.optgroup=He.option,He.tbody=He.tfoot=He.colgroup=He.caption=He.thead,He.th=He.td,re.fn.extend({text:function(t){return re.access(this,function(t){return t===e?re.text(this):this.empty().append((this[0]&&this[0].ownerDocument||U).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=p(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=p(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,o=t?re.filter(t,this):this,i=0;null!=(n=o[i]);i++)e||1!==n.nodeType||re.cleanData(v(n)),n.parentNode&&(e&&re.contains(n.ownerDocument,n)&&h(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(re.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return re.clone(this,t,e)})},html:function(t){return re.access(this,function(t){var n=this[0]||{},o=0,i=this.length;if(t===e&&1===n.nodeType)return n.innerHTML;if("string"==typeof t&&!ze.test(t)&&!He[($e.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Ne,"<$1></$2>");try{for(;i>o;o++)n=this[o]||{},1===n.nodeType&&(re.cleanData(v(n,!1)),n.innerHTML=t);n=0}catch(r){}}n&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=re.map(this,function(t){return[t.nextSibling,t.parentNode]}),e=0;return this.domManip(arguments,function(n){var o=t[e++],i=t[e++];i&&(o&&o.parentNode!==i&&(o=this.nextSibling),re(this).remove(),i.insertBefore(n,o))},!0),e?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,n){t=G.apply([],t);var o,i,r,s,a,u,c=0,l=this.length,p=this,h=l-1,m=t[0],y=re.isFunction(m);if(y||!(1>=l||"string"!=typeof m||re.support.checkClone)&&Fe.test(m))return this.each(function(o){var i=p.eq(o);y&&(t[0]=m.call(this,o,i.html())),i.domManip(t,e,n)});if(l&&(o=re.buildFragment(t,this[0].ownerDocument,!1,!n&&this),i=o.firstChild,1===o.childNodes.length&&(o=i),i)){for(r=re.map(v(o,"script"),f),s=r.length;l>c;c++)a=o,c!==h&&(a=re.clone(a,!0,!0),s&&re.merge(r,v(a,"script"))),e.call(this[c],a,c);if(s)for(u=r[r.length-1].ownerDocument,re.map(r,d),c=0;s>c;c++)a=r[c],qe.test(a.type||"")&&!ve.access(a,"globalEval")&&re.contains(u,a)&&(a.src?re._evalUrl(a.src):re.globalEval(a.textContent.replace(Ie,"")))}return this}}),re.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){re.fn[t]=function(t){for(var n,o=[],i=re(t),r=i.length-1,s=0;r>=s;s++)n=s===r?this:this.clone(!0),re(i[s])[e](n),Z.apply(o,n.get());
return this.pushStack(o)}}),re.extend({clone:function(t,e,n){var o,i,r,s,a=t.cloneNode(!0),u=re.contains(t.ownerDocument,t);if(!(re.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||re.isXMLDoc(t)))for(s=v(a),r=v(t),o=0,i=r.length;i>o;o++)y(r[o],s[o]);if(e)if(n)for(r=r||v(t),s=s||v(a),o=0,i=r.length;i>o;o++)m(r[o],s[o]);else m(t,a);return s=v(a,"script"),s.length>0&&h(s,!u&&v(t,"script")),a},buildFragment:function(t,e,n,o){for(var i,r,s,a,u,c,l=0,p=t.length,f=e.createDocumentFragment(),d=[];p>l;l++)if(i=t[l],i||0===i)if("object"===re.type(i))re.merge(d,i.nodeType?[i]:i);else if(De.test(i)){for(r=r||f.appendChild(e.createElement("div")),s=($e.exec(i)||["",""])[1].toLowerCase(),a=He[s]||He._default,r.innerHTML=a[1]+i.replace(Ne,"<$1></$2>")+a[2],c=a[0];c--;)r=r.lastChild;re.merge(d,r.childNodes),r=f.firstChild,r.textContent=""}else d.push(e.createTextNode(i));for(f.textContent="",l=0;i=d[l++];)if((!o||-1===re.inArray(i,o))&&(u=re.contains(i.ownerDocument,i),r=v(f.appendChild(i),"script"),u&&h(r),n))for(c=0;i=r[c++];)qe.test(i.type||"")&&n.push(i);return f},cleanData:function(t){for(var n,o,r,s,a,u,c=re.event.special,l=0;(o=t[l])!==e;l++){if(i.accepts(o)&&(a=o[ve.expando],a&&(n=ve.cache[a]))){if(r=Object.keys(n.events||{}),r.length)for(u=0;(s=r[u])!==e;u++)c[s]?re.event.remove(o,s):re.removeEvent(o,s,n.handle);ve.cache[a]&&delete ve.cache[a]}delete me.cache[o[me.expando]]}},_evalUrl:function(t){return re.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),re.fn.extend({wrapAll:function(t){var e;return re.isFunction(t)?this.each(function(e){re(this).wrapAll(t.call(this,e))}):(this[0]&&(e=re(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return re.isFunction(t)?this.each(function(e){re(this).wrapInner(t.call(this,e))}):this.each(function(){var e=re(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=re.isFunction(t);return this.each(function(n){re(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){re.nodeName(this,"body")||re(this).replaceWith(this.childNodes)}).end()}});var Re,Be,We=/^(none|table(?!-c[ea]).+)/,Ue=/^margin/,Je=new RegExp("^("+se+")(.*)$","i"),Ke=new RegExp("^("+se+")(?!px)[a-z%]+$","i"),Xe=new RegExp("^([+-])=("+se+")","i"),Ve={BODY:"block"},Qe={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:0,fontWeight:400},Ge=["Top","Right","Bottom","Left"],Ze=["Webkit","O","Moz","ms"];re.fn.extend({css:function(t,n){return re.access(this,function(t,n,o){var i,r,s={},a=0;if(re.isArray(n)){for(i=_(t),r=n.length;r>a;a++)s[n[a]]=re.css(t,n[a],!1,i);return s}return o!==e?re.style(t,n,o):re.css(t,n)},t,n,arguments.length>1)},show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){b(this)?re(this).show():re(this).hide()})}}),re.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Re(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,n,o,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,s,a,u=re.camelCase(n),c=t.style;return n=re.cssProps[u]||(re.cssProps[u]=g(c,u)),a=re.cssHooks[n]||re.cssHooks[u],o===e?a&&"get"in a&&(r=a.get(t,!1,i))!==e?r:c[n]:(s=typeof o,"string"===s&&(r=Xe.exec(o))&&(o=(r[1]+1)*r[2]+parseFloat(re.css(t,n)),s="number"),null==o||"number"===s&&isNaN(o)||("number"!==s||re.cssNumber[u]||(o+="px"),re.support.clearCloneStyle||""!==o||0!==n.indexOf("background")||(c[n]="inherit"),a&&"set"in a&&(o=a.set(t,o,i))===e||(c[n]=o)),void 0)}},css:function(t,n,o,i){var r,s,a,u=re.camelCase(n);return n=re.cssProps[u]||(re.cssProps[u]=g(t.style,u)),a=re.cssHooks[n]||re.cssHooks[u],a&&"get"in a&&(r=a.get(t,!0,o)),r===e&&(r=Re(t,n,i)),"normal"===r&&n in Ye&&(r=Ye[n]),""===o||o?(s=parseFloat(r),o===!0||re.isNumeric(s)?s||0:r):r}}),Re=function(t,n,o){var i,r,s,a=o||_(t),u=a?a.getPropertyValue(n)||a[n]:e,c=t.style;return a&&(""!==u||re.contains(t.ownerDocument,t)||(u=re.style(t,n)),Ke.test(u)&&Ue.test(n)&&(i=c.width,r=c.minWidth,s=c.maxWidth,c.minWidth=c.maxWidth=c.width=u,u=a.width,c.width=i,c.minWidth=r,c.maxWidth=s)),u},re.each(["height","width"],function(t,e){re.cssHooks[e]={get:function(t,n,o){return n?0===t.offsetWidth&&We.test(re.css(t,"display"))?re.swap(t,Qe,function(){return k(t,e,o)}):k(t,e,o):void 0},set:function(t,n,o){var i=o&&_(t);return x(t,n,o?C(t,e,o,re.support.boxSizing&&"border-box"===re.css(t,"boxSizing",!1,i),i):0)}}}),re(function(){re.support.reliableMarginRight||(re.cssHooks.marginRight={get:function(t,e){return e?re.swap(t,{display:"inline-block"},Re,[t,"marginRight"]):void 0}}),!re.support.pixelPosition&&re.fn.position&&re.each(["top","left"],function(t,e){re.cssHooks[e]={get:function(t,n){return n?(n=Re(t,e),Ke.test(n)?re(t).position()[e]+"px":n):void 0}}})}),re.expr&&re.expr.filters&&(re.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},re.expr.filters.visible=function(t){return!re.expr.filters.hidden(t)}),re.each({margin:"",padding:"",border:"Width"},function(t,e){re.cssHooks[t+e]={expand:function(n){for(var o=0,i={},r="string"==typeof n?n.split(" "):[n];4>o;o++)i[t+Ge[o]+e]=r[o]||r[o-2]||r[0];return i}},Ue.test(t)||(re.cssHooks[t+e].set=x)});var tn=/%20/g,en=/\[\]$/,nn=/\r?\n/g,on=/^(?:submit|button|image|reset|file)$/i,rn=/^(?:input|select|textarea|keygen)/i;re.fn.extend({serialize:function(){return re.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=re.prop(this,"elements");return t?re.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!re(this).is(":disabled")&&rn.test(this.nodeName)&&!on.test(t)&&(this.checked||!Me.test(t))}).map(function(t,e){var n=re(this).val();return null==n?null:re.isArray(n)?re.map(n,function(t){return{name:e.name,value:t.replace(nn,"\r\n")}}):{name:e.name,value:n.replace(nn,"\r\n")}}).get()}}),re.param=function(t,n){var o,i=[],r=function(t,e){e=re.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(n===e&&(n=re.ajaxSettings&&re.ajaxSettings.traditional),re.isArray(t)||t.jquery&&!re.isPlainObject(t))re.each(t,function(){r(this.name,this.value)});else for(o in t)E(o,t[o],n,r);return i.join("&").replace(tn,"+")},re.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){re.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),re.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,o){return this.on(e,t,n,o)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var sn,an,un=re.now(),cn=/\?/,ln=/#.*$/,pn=/([?&])_=[^&]*/,fn=/^(.*?):[ \t]*([^\r\n]*)$/gm,dn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,hn=/^(?:GET|HEAD)$/,mn=/^\/\//,vn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,yn=re.fn.load,gn={},bn={},_n="*/".concat("*");try{an=W.href}catch(wn){an=U.createElement("a"),an.href="",an=an.href}sn=vn.exec(an.toLowerCase())||[],re.fn.load=function(t,n,o){if("string"!=typeof t&&yn)return yn.apply(this,arguments);var i,r,s,a=this,u=t.indexOf(" ");return u>=0&&(i=t.slice(u),t=t.slice(0,u)),re.isFunction(n)?(o=n,n=e):n&&"object"==typeof n&&(r="POST"),a.length>0&&re.ajax({url:t,type:r,dataType:"html",data:n}).done(function(t){s=arguments,a.html(i?re("<div>").append(re.parseHTML(t)).find(i):t)}).complete(o&&function(t,e){a.each(o,s||[t.responseText,e,t])}),this},re.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){re.fn[e]=function(t){return this.on(e,t)}}),re.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:an,type:"GET",isLocal:dn.test(sn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_n,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":re.parseJSON,"text xml":re.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?A(A(t,re.ajaxSettings),e):A(re.ajaxSettings,t)},ajaxPrefilter:j(gn),ajaxTransport:j(bn),ajax:function(t,n){function o(t,n,o,a){var c,p,g,b,w,C=n;2!==_&&(_=2,u&&clearTimeout(u),i=e,s=a||"",x.readyState=t>0?4:0,c=t>=200&&300>t||304===t,o&&(b=P(f,x,o)),b=N(f,b,x,c),c?(f.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(re.lastModified[r]=w),w=x.getResponseHeader("etag"),w&&(re.etag[r]=w)),204===t||"HEAD"===f.type?C="nocontent":304===t?C="notmodified":(C=b.state,p=b.data,g=b.error,c=!g)):(g=C,(t||!C)&&(C="error",0>t&&(t=0))),x.status=t,x.statusText=(n||C)+"",c?m.resolveWith(d,[p,C,x]):m.rejectWith(d,[x,C,g]),x.statusCode(y),y=e,l&&h.trigger(c?"ajaxSuccess":"ajaxError",[x,f,c?p:g]),v.fireWith(d,[x,C]),l&&(h.trigger("ajaxComplete",[x,f]),--re.active||re.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=e),n=n||{};var i,r,s,a,u,c,l,p,f=re.ajaxSetup({},n),d=f.context||f,h=f.context&&(d.nodeType||d.jquery)?re(d):re.event,m=re.Deferred(),v=re.Callbacks("once memory"),y=f.statusCode||{},g={},b={},_=0,w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===_){if(!a)for(a={};e=fn.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===_?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return _||(t=b[n]=b[n]||t,g[t]=e),this},overrideMimeType:function(t){return _||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>_)for(e in t)y[e]=[y[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||w;return i&&i.abort(e),o(0,e),this}};if(m.promise(x).complete=v.add,x.success=x.done,x.error=x.fail,f.url=((t||f.url||an)+"").replace(ln,"").replace(mn,sn[1]+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=re.trim(f.dataType||"*").toLowerCase().match(ae)||[""],null==f.crossDomain&&(c=vn.exec(f.url.toLowerCase()),f.crossDomain=!(!c||c[1]===sn[1]&&c[2]===sn[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(sn[3]||("http:"===sn[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=re.param(f.data,f.traditional)),O(gn,f,n,x),2===_)return x;l=f.global,l&&0===re.active++&&re.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!hn.test(f.type),r=f.url,f.hasContent||(f.data&&(r=f.url+=(cn.test(r)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=pn.test(r)?r.replace(pn,"$1_="+un++):r+(cn.test(r)?"&":"?")+"_="+un++)),f.ifModified&&(re.lastModified[r]&&x.setRequestHeader("If-Modified-Since",re.lastModified[r]),re.etag[r]&&x.setRequestHeader("If-None-Match",re.etag[r])),(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",f.contentType),x.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+_n+"; q=0.01":""):f.accepts["*"]);for(p in f.headers)x.setRequestHeader(p,f.headers[p]);if(f.beforeSend&&(f.beforeSend.call(d,x,f)===!1||2===_))return x.abort();w="abort";for(p in{success:1,error:1,complete:1})x[p](f[p]);if(i=O(bn,f,n,x)){x.readyState=1,l&&h.trigger("ajaxSend",[x,f]),f.async&&f.timeout>0&&(u=setTimeout(function(){x.abort("timeout")},f.timeout));try{_=1,i.send(g,o)}catch(C){if(!(2>_))throw C;o(-1,C)}}else o(-1,"No Transport");return x},getJSON:function(t,e,n){return re.get(t,e,n,"json")},getScript:function(t,n){return re.get(t,e,n,"script")}}),re.each(["get","post"],function(t,n){re[n]=function(t,o,i,r){return re.isFunction(o)&&(r=r||i,i=o,o=e),re.ajax({url:t,type:n,dataType:r,data:o,success:i})}}),re.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return re.globalEval(t),t}}}),re.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),re.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(o,i){e=re("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),U.head.appendChild(e[0])},abort:function(){n&&n()}}}});var xn=[],Cn=/(=)\?(?=&|$)|\?\?/;re.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=xn.pop()||re.expando+"_"+un++;return this[t]=!0,t}}),re.ajaxPrefilter("json jsonp",function(n,o,i){var r,s,a,u=n.jsonp!==!1&&(Cn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Cn.test(n.data)&&"data");return u||"jsonp"===n.dataTypes[0]?(r=n.jsonpCallback=re.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,u?n[u]=n[u].replace(Cn,"$1"+r):n.jsonp!==!1&&(n.url+=(cn.test(n.url)?"&":"?")+n.jsonp+"="+r),n.converters["script json"]=function(){return a||re.error(r+" was not called"),a[0]},n.dataTypes[0]="json",s=t[r],t[r]=function(){a=arguments},i.always(function(){t[r]=s,n[r]&&(n.jsonpCallback=o.jsonpCallback,xn.push(r)),a&&re.isFunction(s)&&s(a[0]),a=s=e}),"script"):void 0}),re.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var kn=re.ajaxSettings.xhr(),Tn={0:200,1223:204},Sn=0,En={};t.ActiveXObject&&re(t).on("unload",function(){for(var t in En)En[t]();En=e}),re.support.cors=!!kn&&"withCredentials"in kn,re.support.ajax=kn=!!kn,re.ajaxTransport(function(t){var n;return re.support.cors||kn&&!t.crossDomain?{send:function(o,i){var r,s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)a[r]=t.xhrFields[r];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(r in o)a.setRequestHeader(r,o[r]);n=function(t){return function(){n&&(delete En[s],n=a.onload=a.onerror=null,"abort"===t?a.abort():"error"===t?i(a.status||404,a.statusText):i(Tn[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:e,a.getAllResponseHeaders()))}},a.onload=n(),a.onerror=n("error"),n=En[s=Sn++]=n("abort"),a.send(t.hasContent&&t.data||null)},abort:function(){n&&n()}}:void 0});var jn,On,An=/^(?:toggle|show|hide)$/,Pn=new RegExp("^(?:([+-])=|)("+se+")([a-z%]*)$","i"),Nn=/queueHooks$/,$n=[F],Dn={"*":[function(t,e){var n=this.createTween(t,e),o=n.cur(),i=Pn.exec(e),r=i&&i[3]||(re.cssNumber[t]?"":"px"),s=(re.cssNumber[t]||"px"!==r&&+o)&&Pn.exec(re.css(n.elem,t)),a=1,u=20;if(s&&s[3]!==r){r=r||s[3],i=i||[],s=+o||1;do a=a||".5",s/=a,re.style(n.elem,t,s+r);while(a!==(a=n.cur()/o)&&1!==a&&--u)}return i&&(s=n.start=+s||+o||0,n.unit=r,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};re.Animation=re.extend(z,{tweener:function(t,e){re.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,o=0,i=t.length;i>o;o++)n=t[o],Dn[n]=Dn[n]||[],Dn[n].unshift(e)},prefilter:function(t,e){e?$n.unshift(t):$n.push(t)}}),re.Tween=q,q.prototype={constructor:q,init:function(t,e,n,o,i,r){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=o,this.unit=r||(re.cssNumber[n]?"":"px")},cur:function(){var t=q.propHooks[this.prop];return t&&t.get?t.get(this):q.propHooks._default.get(this)},run:function(t){var e,n=q.propHooks[this.prop];return this.pos=e=this.options.duration?re.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):q.propHooks._default.set(this),this}},q.prototype.init.prototype=q.prototype,q.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=re.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){re.fx.step[t.prop]?re.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[re.cssProps[t.prop]]||re.cssHooks[t.prop])?re.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},q.propHooks.scrollTop=q.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},re.each(["toggle","show","hide"],function(t,e){var n=re.fn[e];re.fn[e]=function(t,o,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(L(e,!0),t,o,i)}}),re.fn.extend({fadeTo:function(t,e,n,o){return this.filter(b).css("opacity",0).show().end().animate({opacity:e},t,n,o)},animate:function(t,e,n,o){var i=re.isEmptyObject(t),r=re.speed(e,n,o),s=function(){var e=z(this,re.extend({},t),r);(i||ve.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(t,n,o){var i=function(t){var e=t.stop;delete t.stop,e(o)};return"string"!=typeof t&&(o=n,n=t,t=e),n&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,n=null!=t&&t+"queueHooks",r=re.timers,s=ve.get(this);if(n)s[n]&&s[n].stop&&i(s[n]);else for(n in s)s[n]&&s[n].stop&&Nn.test(n)&&i(s[n]);for(n=r.length;n--;)r[n].elem!==this||null!=t&&r[n].queue!==t||(r[n].anim.stop(o),e=!1,r.splice(n,1));(e||!o)&&re.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=ve.get(this),o=n[t+"queue"],i=n[t+"queueHooks"],r=re.timers,s=o?o.length:0;for(n.finish=!0,re.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;s>e;e++)o[e]&&o[e].finish&&o[e].finish.call(this);delete n.finish})}}),re.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){re.fn[t]=function(t,n,o){return this.animate(e,t,n,o)}}),re.speed=function(t,e,n){var o=t&&"object"==typeof t?re.extend({},t):{complete:n||!n&&e||re.isFunction(t)&&t,duration:t,easing:n&&e||e&&!re.isFunction(e)&&e};return o.duration=re.fx.off?0:"number"==typeof o.duration?o.duration:o.duration in re.fx.speeds?re.fx.speeds[o.duration]:re.fx.speeds._default,(null==o.queue||o.queue===!0)&&(o.queue="fx"),o.old=o.complete,o.complete=function(){re.isFunction(o.old)&&o.old.call(this),o.queue&&re.dequeue(this,o.queue)},o},re.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},re.timers=[],re.fx=q.prototype.init,re.fx.tick=function(){var t,n=re.timers,o=0;for(jn=re.now();o<n.length;o++)t=n[o],t()||n[o]!==t||n.splice(o--,1);n.length||re.fx.stop(),jn=e},re.fx.timer=function(t){t()&&re.timers.push(t)&&re.fx.start()},re.fx.interval=13,re.fx.start=function(){On||(On=setInterval(re.fx.tick,re.fx.interval))},re.fx.stop=function(){clearInterval(On),On=null},re.fx.speeds={slow:600,fast:200,_default:400},re.fx.step={},re.expr&&re.expr.filters&&(re.expr.filters.animated=function(t){return re.grep(re.timers,function(e){return t===e.elem}).length}),re.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){re.offset.setOffset(this,t,e)});var n,o,i=this[0],r={top:0,left:0},s=i&&i.ownerDocument;if(s)return n=s.documentElement,re.contains(n,i)?(typeof i.getBoundingClientRect!==B&&(r=i.getBoundingClientRect()),o=I(s),{top:r.top+o.pageYOffset-n.clientTop,left:r.left+o.pageXOffset-n.clientLeft}):r},re.offset={setOffset:function(t,e,n){var o,i,r,s,a,u,c,l=re.css(t,"position"),p=re(t),f={};"static"===l&&(t.style.position="relative"),a=p.offset(),r=re.css(t,"top"),u=re.css(t,"left"),c=("absolute"===l||"fixed"===l)&&(r+u).indexOf("auto")>-1,c?(o=p.position(),s=o.top,i=o.left):(s=parseFloat(r)||0,i=parseFloat(u)||0),re.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(f.top=e.top-a.top+s),null!=e.left&&(f.left=e.left-a.left+i),"using"in e?e.using.call(t,f):p.css(f)}},re.fn.extend({position:function(){if(this[0]){var t,e,n=this[0],o={top:0,left:0};return"fixed"===re.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),re.nodeName(t[0],"html")||(o=t.offset()),o.top+=re.css(t[0],"borderTopWidth",!0),o.left+=re.css(t[0],"borderLeftWidth",!0)),{top:e.top-o.top-re.css(n,"marginTop",!0),left:e.left-o.left-re.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||J;t&&!re.nodeName(t,"html")&&"static"===re.css(t,"position");)t=t.offsetParent;return t||J})}}),re.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,o){var i="pageYOffset"===o;re.fn[n]=function(r){return re.access(this,function(n,r,s){var a=I(n);return s===e?a?a[o]:n[r]:(a?a.scrollTo(i?t.pageXOffset:s,i?s:t.pageYOffset):n[r]=s,void 0)},n,r,arguments.length,null)}}),re.each({Height:"height",Width:"width"},function(t,n){re.each({padding:"inner"+t,content:n,"":"outer"+t},function(o,i){re.fn[i]=function(i,r){var s=arguments.length&&(o||"boolean"!=typeof i),a=o||(i===!0||r===!0?"margin":"border");return re.access(this,function(n,o,i){var r;return re.isWindow(n)?n.document.documentElement["client"+t]:9===n.nodeType?(r=n.documentElement,Math.max(n.body["scroll"+t],r["scroll"+t],n.body["offset"+t],r["offset"+t],r["client"+t])):i===e?re.css(n,o,a):re.style(n,o,i,a)},n,s?i:e,s,null)}})}),re.fn.size=function(){return this.length},re.fn.andSelf=re.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=re:"function"==typeof define&&define.amd&&define("jquery",[],function(){return re}),"object"==typeof t&&"object"==typeof t.document&&(t.jQuery=t.$=re)}(window);var MicroEvent=function(){};if(MicroEvent.prototype={bind:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},unbind:function(t,e){this._events=this._events||{},t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},MicroEvent.mixin=function(t){for(var e=["bind","unbind","trigger"],n=0;n<e.length;n++)"function"==typeof t?t.prototype[e[n]]=MicroEvent.prototype[e[n]]:t[e[n]]=MicroEvent.prototype[e[n]]},"undefined"!=typeof module&&"exports"in module&&(module.exports=MicroEvent),define("microevent",function(t){return function(){var e;return e||t.MicroEvent}}(this)),function(){define("event_bus",["microevent"],function(t){var e;return e={},t.mixin(e),e.on=e.bind,e})}.call(this),function(){define("services/event_bus",["event_bus"],function(t){return t})}.call(this),function(){define("initializers/services",["services/event_bus"],function(t){return{eventBus:t}})}.call(this),function(){define("modules",[],function(){return{}})}.call(this),function(){define("views/modules",["modules"],function(t){return t.Views={}})}.call(this),function(){define("views/modals/modules",["views/modules"],function(t){return t.Modals={}})}.call(this),function(){var t=this,e=t._,n={},o=Array.prototype,i=Object.prototype,r=Function.prototype,s=o.push,a=o.slice,u=o.concat,c=i.toString,l=i.hasOwnProperty,p=o.forEach,f=o.map,d=o.reduce,h=o.reduceRight,m=o.filter,v=o.every,y=o.some,g=o.indexOf,b=o.lastIndexOf,_=Array.isArray,w=Object.keys,x=r.bind,C=function(t){return t instanceof C?t:this instanceof C?(this._wrapped=t,void 0):new C(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=C),exports._=C):t._=C,C.VERSION="1.5.2";var k=C.each=C.forEach=function(t,e,o){if(null!=t)if(p&&t.forEach===p)t.forEach(e,o);else if(t.length===+t.length){for(var i=0,r=t.length;r>i;i++)if(e.call(o,t[i],i,t)===n)return}else for(var s=C.keys(t),i=0,r=s.length;r>i;i++)if(e.call(o,t[s[i]],s[i],t)===n)return};C.map=C.collect=function(t,e,n){var o=[];return null==t?o:f&&t.map===f?t.map(e,n):(k(t,function(t,i,r){o.push(e.call(n,t,i,r))}),o)};var T="Reduce of empty array with no initial value";C.reduce=C.foldl=C.inject=function(t,e,n,o){var i=arguments.length>2;if(null==t&&(t=[]),d&&t.reduce===d)return o&&(e=C.bind(e,o)),i?t.reduce(e,n):t.reduce(e);if(k(t,function(t,r,s){i?n=e.call(o,n,t,r,s):(n=t,i=!0)}),!i)throw new TypeError(T);return n},C.reduceRight=C.foldr=function(t,e,n,o){var i=arguments.length>2;if(null==t&&(t=[]),h&&t.reduceRight===h)return o&&(e=C.bind(e,o)),i?t.reduceRight(e,n):t.reduceRight(e);var r=t.length;if(r!==+r){var s=C.keys(t);r=s.length}if(k(t,function(a,u,c){u=s?s[--r]:--r,i?n=e.call(o,n,t[u],u,c):(n=t[u],i=!0)}),!i)throw new TypeError(T);return n},C.find=C.detect=function(t,e,n){var o;return S(t,function(t,i,r){return e.call(n,t,i,r)?(o=t,!0):void 0}),o},C.filter=C.select=function(t,e,n){var o=[];return null==t?o:m&&t.filter===m?t.filter(e,n):(k(t,function(t,i,r){e.call(n,t,i,r)&&o.push(t)}),o)},C.reject=function(t,e,n){return C.filter(t,function(t,o,i){return!e.call(n,t,o,i)},n)},C.every=C.all=function(t,e,o){e||(e=C.identity);var i=!0;return null==t?i:v&&t.every===v?t.every(e,o):(k(t,function(t,r,s){return(i=i&&e.call(o,t,r,s))?void 0:n}),!!i)};var S=C.some=C.any=function(t,e,o){e||(e=C.identity);var i=!1;return null==t?i:y&&t.some===y?t.some(e,o):(k(t,function(t,r,s){return i||(i=e.call(o,t,r,s))?n:void 0}),!!i)};C.contains=C.include=function(t,e){return null==t?!1:g&&t.indexOf===g?-1!=t.indexOf(e):S(t,function(t){return t===e})},C.invoke=function(t,e){var n=a.call(arguments,2),o=C.isFunction(e);return C.map(t,function(t){return(o?e:t[e]).apply(t,n)})},C.pluck=function(t,e){return C.map(t,function(t){return t[e]})},C.where=function(t,e,n){return C.isEmpty(e)?n?void 0:[]:C[n?"find":"filter"](t,function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0})},C.findWhere=function(t,e){return C.where(t,e,!0)},C.max=function(t,e,n){if(!e&&C.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&C.isEmpty(t))return-1/0;var o={computed:-1/0,value:-1/0};return k(t,function(t,i,r){var s=e?e.call(n,t,i,r):t;s>o.computed&&(o={value:t,computed:s})}),o.value},C.min=function(t,e,n){if(!e&&C.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&C.isEmpty(t))return 1/0;var o={computed:1/0,value:1/0};return k(t,function(t,i,r){var s=e?e.call(n,t,i,r):t;s<o.computed&&(o={value:t,computed:s})}),o.value},C.shuffle=function(t){var e,n=0,o=[];return k(t,function(t){e=C.random(n++),o[n-1]=o[e],o[e]=t}),o},C.sample=function(t,e,n){return arguments.length<2||n?t[C.random(t.length-1)]:C.shuffle(t).slice(0,Math.max(0,e))};var E=function(t){return C.isFunction(t)?t:function(e){return e[t]}};C.sortBy=function(t,e,n){var o=E(e);return C.pluck(C.map(t,function(t,e,i){return{value:t,index:e,criteria:o.call(n,t,e,i)}}).sort(function(t,e){var n=t.criteria,o=e.criteria;if(n!==o){if(n>o||void 0===n)return 1;if(o>n||void 0===o)return-1}return t.index-e.index}),"value")};var j=function(t){return function(e,n,o){var i={},r=null==n?C.identity:E(n);return k(e,function(n,s){var a=r.call(o,n,s,e);t(i,a,n)}),i}};C.groupBy=j(function(t,e,n){(C.has(t,e)?t[e]:t[e]=[]).push(n)}),C.indexBy=j(function(t,e,n){t[e]=n}),C.countBy=j(function(t,e){C.has(t,e)?t[e]++:t[e]=1}),C.sortedIndex=function(t,e,n,o){n=null==n?C.identity:E(n);for(var i=n.call(o,e),r=0,s=t.length;s>r;){var a=r+s>>>1;n.call(o,t[a])<i?r=a+1:s=a}return r},C.toArray=function(t){return t?C.isArray(t)?a.call(t):t.length===+t.length?C.map(t,C.identity):C.values(t):[]},C.size=function(t){return null==t?0:t.length===+t.length?t.length:C.keys(t).length},C.first=C.head=C.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:a.call(t,0,e)},C.initial=function(t,e,n){return a.call(t,0,t.length-(null==e||n?1:e))},C.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},C.rest=C.tail=C.drop=function(t,e,n){return a.call(t,null==e||n?1:e)},C.compact=function(t){return C.filter(t,C.identity)};var O=function(t,e,n){return e&&C.every(t,C.isArray)?u.apply(n,t):(k(t,function(t){C.isArray(t)||C.isArguments(t)?e?s.apply(n,t):O(t,e,n):n.push(t)}),n)};C.flatten=function(t,e){return O(t,e,[])},C.without=function(t){return C.difference(t,a.call(arguments,1))},C.uniq=C.unique=function(t,e,n,o){C.isFunction(e)&&(o=n,n=e,e=!1);var i=n?C.map(t,n,o):t,r=[],s=[];return k(i,function(n,o){(e?o&&s[s.length-1]===n:C.contains(s,n))||(s.push(n),r.push(t[o]))}),r},C.union=function(){return C.uniq(C.flatten(arguments,!0))},C.intersection=function(t){var e=a.call(arguments,1);return C.filter(C.uniq(t),function(t){return C.every(e,function(e){return C.indexOf(e,t)>=0})})},C.difference=function(t){var e=u.apply(o,a.call(arguments,1));return C.filter(t,function(t){return!C.contains(e,t)})},C.zip=function(){for(var t=C.max(C.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;t>n;n++)e[n]=C.pluck(arguments,""+n);return e},C.object=function(t,e){if(null==t)return{};for(var n={},o=0,i=t.length;i>o;o++)e?n[t[o]]=e[o]:n[t[o][0]]=t[o][1];return n},C.indexOf=function(t,e,n){if(null==t)return-1;var o=0,i=t.length;if(n){if("number"!=typeof n)return o=C.sortedIndex(t,e),t[o]===e?o:-1;o=0>n?Math.max(0,i+n):n}if(g&&t.indexOf===g)return t.indexOf(e,n);for(;i>o;o++)if(t[o]===e)return o;return-1},C.lastIndexOf=function(t,e,n){if(null==t)return-1;var o=null!=n;if(b&&t.lastIndexOf===b)return o?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var i=o?n:t.length;i--;)if(t[i]===e)return i;return-1},C.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var o=Math.max(Math.ceil((e-t)/n),0),i=0,r=new Array(o);o>i;)r[i++]=t,t+=n;return r};var A=function(){};C.bind=function(t,e){var n,o;if(x&&t.bind===x)return x.apply(t,a.call(arguments,1));if(!C.isFunction(t))throw new TypeError;return n=a.call(arguments,2),o=function(){if(!(this instanceof o))return t.apply(e,n.concat(a.call(arguments)));A.prototype=t.prototype;var i=new A;A.prototype=null;var r=t.apply(i,n.concat(a.call(arguments)));return Object(r)===r?r:i}},C.partial=function(t){var e=a.call(arguments,1);return function(){return t.apply(this,e.concat(a.call(arguments)))}},C.bindAll=function(t){var e=a.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return k(e,function(e){t[e]=C.bind(t[e],t)}),t},C.memoize=function(t,e){var n={};return e||(e=C.identity),function(){var o=e.apply(this,arguments);return C.has(n,o)?n[o]:n[o]=t.apply(this,arguments)}},C.delay=function(t,e){var n=a.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},C.defer=function(t){return C.delay.apply(C,[t,1].concat(a.call(arguments,1)))},C.throttle=function(t,e,n){var o,i,r,s=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:new Date,s=null,r=t.apply(o,i)};return function(){var c=new Date;a||n.leading!==!1||(a=c);var l=e-(c-a);return o=this,i=arguments,0>=l?(clearTimeout(s),s=null,a=c,r=t.apply(o,i)):s||n.trailing===!1||(s=setTimeout(u,l)),r}},C.debounce=function(t,e,n){var o,i,r,s,a;return function(){r=this,i=arguments,s=new Date;var u=function(){var c=new Date-s;e>c?o=setTimeout(u,e-c):(o=null,n||(a=t.apply(r,i)))},c=n&&!o;return o||(o=setTimeout(u,e)),c&&(a=t.apply(r,i)),a}},C.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},C.wrap=function(t,e){return function(){var n=[t];return s.apply(n,arguments),e.apply(this,n)}},C.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},C.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},C.keys=w||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)C.has(t,n)&&e.push(n);return e
},C.values=function(t){for(var e=C.keys(t),n=e.length,o=new Array(n),i=0;n>i;i++)o[i]=t[e[i]];return o},C.pairs=function(t){for(var e=C.keys(t),n=e.length,o=new Array(n),i=0;n>i;i++)o[i]=[e[i],t[e[i]]];return o},C.invert=function(t){for(var e={},n=C.keys(t),o=0,i=n.length;i>o;o++)e[t[n[o]]]=n[o];return e},C.functions=C.methods=function(t){var e=[];for(var n in t)C.isFunction(t[n])&&e.push(n);return e.sort()},C.extend=function(t){return k(a.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},C.pick=function(t){var e={},n=u.apply(o,a.call(arguments,1));return k(n,function(n){n in t&&(e[n]=t[n])}),e},C.omit=function(t){var e={},n=u.apply(o,a.call(arguments,1));for(var i in t)C.contains(n,i)||(e[i]=t[i]);return e},C.defaults=function(t){return k(a.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},C.clone=function(t){return C.isObject(t)?C.isArray(t)?t.slice():C.extend({},t):t},C.tap=function(t,e){return e(t),t};var P=function(t,e,n,o){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof C&&(t=t._wrapped),e instanceof C&&(e=e._wrapped);var i=c.call(t);if(i!=c.call(e))return!1;switch(i){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var r=n.length;r--;)if(n[r]==t)return o[r]==e;var s=t.constructor,a=e.constructor;if(s!==a&&!(C.isFunction(s)&&s instanceof s&&C.isFunction(a)&&a instanceof a))return!1;n.push(t),o.push(e);var u=0,l=!0;if("[object Array]"==i){if(u=t.length,l=u==e.length)for(;u--&&(l=P(t[u],e[u],n,o)););}else{for(var p in t)if(C.has(t,p)&&(u++,!(l=C.has(e,p)&&P(t[p],e[p],n,o))))break;if(l){for(p in e)if(C.has(e,p)&&!u--)break;l=!u}}return n.pop(),o.pop(),l};C.isEqual=function(t,e){return P(t,e,[],[])},C.isEmpty=function(t){if(null==t)return!0;if(C.isArray(t)||C.isString(t))return 0===t.length;for(var e in t)if(C.has(t,e))return!1;return!0},C.isElement=function(t){return!(!t||1!==t.nodeType)},C.isArray=_||function(t){return"[object Array]"==c.call(t)},C.isObject=function(t){return t===Object(t)},k(["Arguments","Function","String","Number","Date","RegExp"],function(t){C["is"+t]=function(e){return c.call(e)=="[object "+t+"]"}}),C.isArguments(arguments)||(C.isArguments=function(t){return!(!t||!C.has(t,"callee"))}),"function"!=typeof/./&&(C.isFunction=function(t){return"function"==typeof t}),C.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},C.isNaN=function(t){return C.isNumber(t)&&t!=+t},C.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==c.call(t)},C.isNull=function(t){return null===t},C.isUndefined=function(t){return void 0===t},C.has=function(t,e){return l.call(t,e)},C.noConflict=function(){return t._=e,this},C.identity=function(t){return t},C.times=function(t,e,n){for(var o=Array(Math.max(0,t)),i=0;t>i;i++)o[i]=e.call(n,i);return o},C.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var N={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};N.unescape=C.invert(N.escape);var $={escape:new RegExp("["+C.keys(N.escape).join("")+"]","g"),unescape:new RegExp("("+C.keys(N.unescape).join("|")+")","g")};C.each(["escape","unescape"],function(t){C[t]=function(e){return null==e?"":(""+e).replace($[t],function(e){return N[t][e]})}}),C.result=function(t,e){if(null==t)return void 0;var n=t[e];return C.isFunction(n)?n.call(t):n},C.mixin=function(t){k(C.functions(t),function(e){var n=C[e]=t[e];C.prototype[e]=function(){var t=[this._wrapped];return s.apply(t,arguments),q.call(this,n.apply(C,t))}})};var D=0;C.uniqueId=function(t){var e=++D+"";return t?t+e:e},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},F=/\\|'|\r|\n|\t|\u2028|\u2029/g;C.template=function(t,e,n){var o;n=C.defaults({},n,C.templateSettings);var i=new RegExp([(n.escape||z).source,(n.interpolate||z).source,(n.evaluate||z).source].join("|")+"|$","g"),r=0,s="__p+='";t.replace(i,function(e,n,o,i,a){return s+=t.slice(r,a).replace(F,function(t){return"\\"+M[t]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),o&&(s+="'+\n((__t=("+o+"))==null?'':__t)+\n'"),i&&(s+="';\n"+i+"\n__p+='"),r=a+e.length,e}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{o=new Function(n.variable||"obj","_",s)}catch(a){throw a.source=s,a}if(e)return o(e,C);var u=function(t){return o.call(this,t,C)};return u.source="function("+(n.variable||"obj")+"){\n"+s+"}",u},C.chain=function(t){return C(t).chain()};var q=function(t){return this._chain?C(t).chain():t};C.mixin(C),k(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];C.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],q.call(this,n)}}),k(["concat","join","slice"],function(t){var e=o[t];C.prototype[t]=function(){return q.call(this,e.apply(this._wrapped,arguments))}}),C.extend(C.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),define("underscore",function(t){return function(){var e;return e||t._}}(this)),function(){var t=this,e=t.Backbone,n=[];n.push;var o=n.slice;n.splice;var i;i="undefined"!=typeof exports?exports:t.Backbone={},i.VERSION="1.1.0";var r=t._;r||"undefined"==typeof require||(r=require("underscore")),i.$=t.jQuery||t.Zepto||t.ender||t.$,i.noConflict=function(){return t.Backbone=e,this},i.emulateHTTP=!1,i.emulateJSON=!1;var s=i.Events={on:function(t,e,n){if(!u(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var o=this._events[t]||(this._events[t]=[]);return o.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,n){if(!u(this,"once",t,[e,n])||!e)return this;var o=this,i=r.once(function(){o.off(t,i),e.apply(this,arguments)});return i._callback=e,this.on(t,i,n)},off:function(t,e,n){var o,i,s,a,c,l,p,f;if(!this._events||!u(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;for(a=t?[t]:r.keys(this._events),c=0,l=a.length;l>c;c++)if(t=a[c],s=this._events[t]){if(this._events[t]=o=[],e||n)for(p=0,f=s.length;f>p;p++)i=s[p],(e&&e!==i.callback&&e!==i.callback._callback||n&&n!==i.context)&&o.push(i);o.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=o.call(arguments,1);if(!u(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&c(n,e),i&&c(i,arguments),this},stopListening:function(t,e,n){var o=this._listeningTo;if(!o)return this;var i=!e&&!n;n||"object"!=typeof e||(n=this),t&&((o={})[t._listenId]=t);for(var s in o)t=o[s],t.off(e,n,this),(i||r.isEmpty(t._events))&&delete this._listeningTo[s];return this}},a=/\s+/,u=function(t,e,n,o){if(!n)return!0;if("object"==typeof n){for(var i in n)t[e].apply(t,[i,n[i]].concat(o));return!1}if(a.test(n)){for(var r=n.split(a),s=0,u=r.length;u>s;s++)t[e].apply(t,[r[s]].concat(o));return!1}return!0},c=function(t,e){var n,o=-1,i=t.length,r=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++o<i;)(n=t[o]).callback.call(n.ctx);return;case 1:for(;++o<i;)(n=t[o]).callback.call(n.ctx,r);return;case 2:for(;++o<i;)(n=t[o]).callback.call(n.ctx,r,s);return;case 3:for(;++o<i;)(n=t[o]).callback.call(n.ctx,r,s,a);return;default:for(;++o<i;)(n=t[o]).callback.apply(n.ctx,e)}},l={listenTo:"on",listenToOnce:"once"};r.each(l,function(t,e){s[e]=function(e,n,o){var i=this._listeningTo||(this._listeningTo={}),s=e._listenId||(e._listenId=r.uniqueId("l"));return i[s]=e,o||"object"!=typeof n||(o=this),e[t](n,o,this),this}}),s.bind=s.on,s.unbind=s.off,r.extend(i,s);var p=i.Model=function(t,e){var n=t||{};e||(e={}),this.cid=r.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{}),n=r.defaults({},n,r.result(this,"defaults")),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};r.extend(p.prototype,s,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return r.clone(this.attributes)},sync:function(){return i.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return r.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var o,i,s,a,u,c,l,p;if(null==t)return this;if("object"==typeof t?(i=t,n=e):(i={})[t]=e,n||(n={}),!this._validate(i,n))return!1;s=n.unset,u=n.silent,a=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=r.clone(this.attributes),this.changed={}),p=this.attributes,l=this._previousAttributes,this.idAttribute in i&&(this.id=i[this.idAttribute]);for(o in i)e=i[o],r.isEqual(p[o],e)||a.push(o),r.isEqual(l[o],e)?delete this.changed[o]:this.changed[o]=e,s?delete p[o]:p[o]=e;if(!u){a.length&&(this._pending=!0);for(var f=0,d=a.length;d>f;f++)this.trigger("change:"+a[f],this,p[a[f]],n)}if(c)return this;if(!u)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,r.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,r.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!r.isEmpty(this.changed):r.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?r.clone(this.changed):!1;var e,n=!1,o=this._changing?this._previousAttributes:this.attributes;for(var i in t)r.isEqual(o[i],e=t[i])||((n||(n={}))[i]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return r.clone(this._previousAttributes)},fetch:function(t){t=t?r.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,n=t.success;return t.success=function(o){return e.set(e.parse(o,t),t)?(n&&n(e,o,t),e.trigger("sync",e,o,t),void 0):!1},M(this,t),this.sync("read",this,t)},save:function(t,e,n){var o,i,s,a=this.attributes;if(null==t||"object"==typeof t?(o=t,n=e):(o={})[t]=e,n=r.extend({validate:!0},n),o&&!n.wait){if(!this.set(o,n))return!1}else if(!this._validate(o,n))return!1;o&&n.wait&&(this.attributes=r.extend({},a,o)),void 0===n.parse&&(n.parse=!0);var u=this,c=n.success;return n.success=function(t){u.attributes=a;var e=u.parse(t,n);return n.wait&&(e=r.extend(o||{},e)),r.isObject(e)&&!u.set(e,n)?!1:(c&&c(u,t,n),u.trigger("sync",u,t,n),void 0)},M(this,n),i=this.isNew()?"create":n.patch?"patch":"update","patch"===i&&(n.attrs=o),s=this.sync(i,this,n),o&&n.wait&&(this.attributes=a),s},destroy:function(t){t=t?r.clone(t):{};var e=this,n=t.success,o=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(i){(t.wait||e.isNew())&&o(),n&&n(e,i,t),e.isNew()||e.trigger("sync",e,i,t)},this.isNew())return t.success(),!1;M(this,t);var i=this.sync("delete",this,t);return t.wait||o(),i},url:function(){var t=r.result(this,"urlRoot")||r.result(this.collection,"url")||z();return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return this._validate({},r.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=r.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return n?(this.trigger("invalid",this,n,r.extend(e,{validationError:n})),!1):!0}});var f=["keys","values","pairs","invert","pick","omit"];r.each(f,function(t){p.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.attributes),r[t].apply(r,e)}});var d=i.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,r.extend({silent:!0},e))},h={add:!0,remove:!0,merge:!0},m={add:!0,remove:!1};r.extend(d.prototype,s,{model:p,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return i.sync.apply(this,arguments)},add:function(t,e){return this.set(t,r.extend({merge:!1},e,m))},remove:function(t,e){var n=!r.isArray(t);t=n?[t]:r.clone(t),e||(e={});var o,i,s,a;for(o=0,i=t.length;i>o;o++)a=t[o]=this.get(t[o]),a&&(delete this._byId[a.id],delete this._byId[a.cid],s=this.indexOf(a),this.models.splice(s,1),this.length--,e.silent||(e.index=s,a.trigger("remove",a,this,e)),this._removeReference(a));return n?t[0]:t},set:function(t,e){e=r.defaults({},e,h),e.parse&&(t=this.parse(t,e));var n=!r.isArray(t);t=n?t?[t]:[]:r.clone(t);var o,i,s,a,u,c,l,f=e.at,d=this.model,m=this.comparator&&null==f&&e.sort!==!1,v=r.isString(this.comparator)?this.comparator:null,y=[],g=[],b={},_=e.add,w=e.merge,x=e.remove,C=!m&&_&&x?[]:!1;for(o=0,i=t.length;i>o;o++){if(u=t[o],s=u instanceof p?a=u:u[d.prototype.idAttribute],c=this.get(s))x&&(b[c.cid]=!0),w&&(u=u===a?a.attributes:u,e.parse&&(u=c.parse(u,e)),c.set(u,e),m&&!l&&c.hasChanged(v)&&(l=!0)),t[o]=c;else if(_){if(a=t[o]=this._prepareModel(u,e),!a)continue;y.push(a),a.on("all",this._onModelEvent,this),this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a)}C&&C.push(c||a)}if(x){for(o=0,i=this.length;i>o;++o)b[(a=this.models[o]).cid]||g.push(a);g.length&&this.remove(g,e)}if(y.length||C&&C.length)if(m&&(l=!0),this.length+=y.length,null!=f)for(o=0,i=y.length;i>o;o++)this.models.splice(f+o,0,y[o]);else{C&&(this.models.length=0);var k=C||y;for(o=0,i=k.length;i>o;o++)this.models.push(k[o])}if(l&&this.sort({silent:!0}),!e.silent){for(o=0,i=y.length;i>o;o++)(a=y[o]).trigger("add",a,this,e);(l||C&&C.length)&&this.trigger("sort",this,e)}return n?t[0]:t},reset:function(t,e){e||(e={});for(var n=0,o=this.models.length;o>n;n++)this._removeReference(this.models[n]);return e.previousModels=this.models,this._reset(),t=this.add(t,r.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,r.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,r.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return o.apply(this.models,arguments)},get:function(t){return null==t?void 0:this._byId[t.id]||this._byId[t.cid]||this._byId[t]},at:function(t){return this.models[t]},where:function(t,e){return r.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),r.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(r.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return r.invoke(this.models,"get",t)},fetch:function(t){t=t?r.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,n=this;return t.success=function(o){var i=t.reset?"reset":"set";n[i](o,t),e&&e(n,o,t),n.trigger("sync",n,o,t)},M(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?r.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var n=this,o=e.success;return e.success=function(t,e,i){i.wait&&n.add(t,i),o&&o(t,e,i)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof p)return t.collection||(t.collection=this),t;e=e?r.clone(e):{},e.collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,o){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,o),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];r.each(v,function(t){d.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.models),r[t].apply(r,e)}});var y=["groupBy","countBy","sortBy"];r.each(y,function(t){d.prototype[t]=function(e,n){var o=r.isFunction(e)?e:function(t){return t.get(e)};return r[t](this.models,o,n)}});var g=i.View=function(t){this.cid=r.uniqueId("view"),t||(t={}),r.extend(this,r.pick(t,_)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},b=/^(\S+)\s*(.*)$/,_=["model","collection","el","id","attributes","className","tagName","events"];r.extend(g.prototype,s,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,e){return this.$el&&this.undelegateEvents(),this.$el=t instanceof i.$?t:i.$(t),this.el=this.$el[0],e!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=r.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var n=t[e];if(r.isFunction(n)||(n=this[t[e]]),n){var o=e.match(b),i=o[1],s=o[2];n=r.bind(n,this),i+=".delegateEvents"+this.cid,""===s?this.$el.on(i,n):this.$el.on(i,s,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(r.result(this,"el"),!1);else{var t=r.extend({},r.result(this,"attributes"));this.id&&(t.id=r.result(this,"id")),this.className&&(t["class"]=r.result(this,"className"));var e=i.$("<"+r.result(this,"tagName")+">").attr(t);this.setElement(e,!1)}}}),i.sync=function(t,e,n){var o=x[t];r.defaults(n||(n={}),{emulateHTTP:i.emulateHTTP,emulateJSON:i.emulateJSON});var s={type:o,dataType:"json"};if(n.url||(s.url=r.result(e,"url")||z()),null!=n.data||!e||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(n.attrs||e.toJSON(n))),n.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),n.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",n.emulateJSON&&(s.data._method=o);var a=n.beforeSend;n.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",o),a?a.apply(this,arguments):void 0}}"GET"===s.type||n.emulateJSON||(s.processData=!1),"PATCH"===s.type&&w&&(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var u=n.xhr=i.ajax(r.extend(s,n));return e.trigger("request",e,u,n),u};var w=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),x={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};i.ajax=function(){return i.$.ajax.apply(i.$,arguments)};var C=i.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},k=/\((.*?)\)/g,T=/(\(\?)?:\w+/g,S=/\*\w+/g,E=/[\-{}\[\]+?.,\\\^$|#\s]/g;r.extend(C.prototype,s,{initialize:function(){},route:function(t,e,n){r.isRegExp(t)||(t=this._routeToRegExp(t)),r.isFunction(e)&&(n=e,e=""),n||(n=this[e]);var o=this;return i.history.route(t,function(r){var s=o._extractParameters(t,r);n&&n.apply(o,s),o.trigger.apply(o,["route:"+e].concat(s)),o.trigger("route",e,s),i.history.trigger("route",o,e,s)}),this},navigate:function(t,e){return i.history.navigate(t,e),this},_bindRoutes:function(){if(this.routes){this.routes=r.result(this,"routes");for(var t,e=r.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(E,"\\$&").replace(k,"(?:$1)?").replace(T,function(t,e){return e?t:"([^/]+)"}).replace(S,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return r.map(n,function(t){return t?decodeURIComponent(t):null})}});var j=i.History=function(){this.handlers=[],r.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},O=/^[#\/]|\s+$/g,A=/^\/+|\/+$/g,P=/msie [\w.]+/,N=/\/$/,$=/[?#].*$/;j.started=!1,r.extend(j.prototype,s,{interval:50,getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var n=this.root.replace(N,"");t.indexOf(n)||(t=t.slice(n.length))}else t=this.getHash();return t.replace(O,"")},start:function(t){if(j.started)throw new Error("Backbone.history has already been started");j.started=!0,this.options=r.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var e=this.getFragment(),n=document.documentMode,o=P.exec(navigator.userAgent.toLowerCase())&&(!n||7>=n);this.root=("/"+this.root+"/").replace(A,"/"),o&&this._wantsHashChange&&(this.iframe=i.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(e)),this._hasPushState?i.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!o?i.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=e;var s=this.location,a=s.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!a)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&a&&s.hash&&(this.fragment=this.getHash().replace(O,""),this.history.replaceState({},document.title,this.root+this.fragment+s.search))}return this.options.silent?void 0:this.loadUrl()},stop:function(){i.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),j.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),this.loadUrl(),void 0)},loadUrl:function(t){return t=this.fragment=this.getFragment(t),r.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})},navigate:function(t,e){if(!j.started)return!1;e&&e!==!0||(e={trigger:!!e});var n=this.root+(t=this.getFragment(t||""));if(t=t.replace($,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var o=t.href.replace(/(javascript:|#).*$/,"");t.replace(o+"#"+e)}else t.hash="#"+e}}),i.history=new j;var D=function(t,e){var n,o=this;n=t&&r.has(t,"constructor")?t.constructor:function(){return o.apply(this,arguments)},r.extend(n,o,e);var i=function(){this.constructor=n};return i.prototype=o.prototype,n.prototype=new i,t&&r.extend(n.prototype,t),n.__super__=o.prototype,n};p.extend=d.extend=C.extend=g.extend=j.extend=D;var z=function(){throw new Error('A "url" property or function must be specified')},M=function(t,e){var n=e.error;e.error=function(o){n&&n(t,o,e),t.trigger("error",t,o,e)}}}.call(this),define("backbone",["underscore"],function(t){return function(){var e;return e||t.Backbone}}(this)),function(){var t=[].slice;define("jst",["jquery"],function(e){var n;return n=function(n,o){return e.ajax(n,{success:function(){var e,n;return n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],o(n)}})},{pluginBuilder:"./builders/jst",load:function(t,e,o,i){return n(""+i.baseUrl+t+".js",function(t){return o.fromText("define(function(){return "+t+"})")})}}})}.call(this),define("jst!templates/modals/base",[],function(){return window.JST["public/assets/javascripts/templates/modals/base"]=function(t){t||(t={});var e,n=[],o=t.safe,i=t.escape;return e=t.safe=function(t){if(t&&t.ecoSafe)return t;("undefined"==typeof t||null==t)&&(t="");var e=new String(t);return e.ecoSafe=!0,e},i||(i=t.escape=function(t){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="js-modalized-header modal-header"></div>\n    <div class="js-modalized-body modal-body"></div>\n    <div class="js-modalized-footer modal-footer"></div>\n  </div>\n</div>\n\n')}).call(this)}.call(t),t.safe=o,t.escape=i,n.join("")}}),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,n=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};define("views/modals/base",["jquery","views/modals/modules","backbone","jst!templates/modals/base"],function(e,o,i,r){var s;return o.Base=function(o){function i(){return this._close=t(this._close,this),this._rejected=t(this._rejected,this),this._succeeded=t(this._succeeded,this),s=i.__super__.constructor.apply(this,arguments)}return n(i,o),i.prototype.template=r,i.prototype.modalize=function(t){return t.promise.then(this._succeeded,this._rejected),this._deferred=e.Deferred(),this.$el.html(this.template(this)),t.headerForModal(this,this.$el.find(".js-modalized-header")),t.footerForModal(this,this.$el.find(".js-modalized-footer")),t.bodyForModal(this,this.$el.find(".js-modalized-body")),this.$el.modal({backdrop:"static"}),this},i.prototype._succeeded=function(){return this._manuallyClosed=!0,this._deferred.resolve(),this._close()},i.prototype._rejected=function(){return this._manuallyClosed=!0,this._deferred.reject(),this._close()},i.prototype._close=function(){return this.$el.modal("hide")},i}(i.View)})}.call(this),function(){define("mixins/modules",["modules"],function(t){return t.Mixins={}})}.call(this),define("jst!templates/modal",[],function(){return window.JST["public/assets/javascripts/templates/modal"]=function(t){t||(t={});var e,n=[],o=t.safe,i=t.escape;return e=t.safe=function(t){if(t&&t.ecoSafe)return t;("undefined"==typeof t||null==t)&&(t="");var e=new String(t);return e.ecoSafe=!0,e},i||(i=t.escape=function(t){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="js-modalized-header modal-header"></div>\n    <div class="js-modalized-body modal-body"></div>\n    <div class="js-modalized-footer modal-footer"></div>\n  </div>\n</div>\n')}).call(this)}.call(t),t.safe=o,t.escape=i,n.join("")}}),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,n=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};define("views/modal",["backbone","views/modules","jst!templates/modal"],function(e,o,i){var r;return o.Modal=function(e){function o(){return this._close=t(this._close,this),this._rejected=t(this._rejected,this),this._succeeded=t(this._succeeded,this),r=o.__super__.constructor.apply(this,arguments)}return n(o,e),o.prototype.template=i,o.prototype.modalize=function(t){return t.promise.then(this._succeeded,this._rejected),this._deferred=$.Deferred(),this.$el.html(this.template(this)),t.headerForModal(this,this.$el.find(".js-modalized-header")),t.footerForModal(this,this.$el.find(".js-modalized-footer")),t.bodyForModal(this,this.$el.find(".js-modalized-body")),this.$el.modal({backdrop:"static"}),this},o.prototype._succeeded=function(){return this._manuallyClosed=!0,this._deferred.resolve(),this._close()},o.prototype._rejected=function(){return this._manuallyClosed=!0,this._deferred.reject(),this._close()},o.prototype._close=function(){return this.$el.modal("hide")},o}(e.View)})}.call(this),function(){define("views/helpers/modules",["views/modules"],function(t){return t.Helpers={}})}.call(this),define("jst!templates/helpers/button",[],function(){return window.JST["public/assets/javascripts/templates/helpers/button"]=function(t){t||(t={});var e,n=[],o=function(t){return t&&t.ecoSafe?t:"undefined"!=typeof t&&null!=t?r(t):""},i=t.safe,r=t.escape;return e=t.safe=function(t){if(t&&t.ecoSafe)return t;("undefined"==typeof t||null==t)&&(t="");var e=new String(t);return e.ecoSafe=!0,e},r||(r=t.escape=function(t){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<button class="btn '),n.push(o(this.btnType)),n.push(" "),n.push(o(this.extraClasses)),n.push('" id="'),n.push(o(this.id)),n.push('" type="button">'),n.push(o(this.text)),n.push("</button>\n")}).call(this)}.call(t),t.safe=i,t.escape=r,n.join("")}}),function(){define("views/helpers/button",["views/helpers/modules","jst!templates/helpers/button"],function(t,e){return t.Button=function(){function t(){}return t.prototype.render=function(t){return null!=t.type&&(t.btnType="btn-"+t.type),e(t)},t}()})}.call(this),function(){define("mixins/modalizable",["underscore","mixins/modules","views/modal","views/helpers/button"],function(t,e,n,o){return e.Modalizable=function(){var e,i,r;return e={el:".modal"},i=this,r=i.initialize,i.initialize=function(t){return r.call(this,t),this._deferred=$.Deferred(),this.promise=this._deferred.promise()},i.modalize=function(o){var i;return this._modalOptions=o,i=new n(t.extend(e,o)),i.modalize(this),this.promise},i.headerForModal=function(t,e){var n,o;return n=(null!=(o=this.modalizable)?o.header:void 0)||this._modalOptions.header,e.html("<h3>"+n+"</h3>")},i.bodyForModal=function(t,e){return this.render(),e.html(this.$el)},i.footerForModal=function(e,n){var i,r,s,a,u,c,l=this;if(null!=(null!=(a=this.modalizable)?a.buttons:void 0)){i={},u=this.modalizable.buttons,c=[];for(r in u)s=u[r],c.push(function(r,s){return s.id=t.uniqueId("modalizable-button-"),i["click  #"+s.id]=function(){return t.isFunction(s.cb)?s.cb.apply(l,arguments):l[s.cb].apply(l,arguments)},e.delegateEvents(i),$.extend(s,{extraClasses:"modalizable-button"}),n.append((new o).render(s)),s.el=n.find("#"+s.id)}(r,s));return c}},i.handleModalDismiss||(i.handleModalDismiss=function(){return this.rejectModal()}),i.resolveModal=function(){return this._deferred.resolve()},i.rejectModal=function(){return this._deferred.reject()}},e.Modalizable.mixin=function(t){return e.Modalizable.call(t.prototype),t},e.Modalizable})}.call(this),define("jst!templates/modals/player_destroyed",[],function(){return window.JST["public/assets/javascripts/templates/modals/player_destroyed"]=function(t){t||(t={});var e,n=[],o=t.safe,i=t.escape;return e=t.safe=function(t){if(t&&t.ecoSafe)return t;("undefined"==typeof t||null==t)&&(t="");var e=new String(t);return e.ecoSafe=!0,e},i||(i=t.escape=function(t){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")
}),function(){(function(){n.push("Your player has been destroyed Do you want to play again?\n")}).call(this)}.call(t),t.safe=o,t.escape=i,n.join("")}}),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("views/modals/player_destroyed_view",["views/modals/modules","views/modals/base","mixins/modalizable","jst!templates/modals/player_destroyed"],function(t,n,o,i){var r;return t.PlayerDestroyedView=function(t){function n(){return r=n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.modalizable={header:"Player destroyed",buttons:{save:{text:"Yes",cb:"_handleOk"},cancel:{text:"No",cb:"_handleCancel"}}},n.prototype.render=function(){return this.$el.html(i())},n.prototype._handleOk=function(){return window.location=window.location},n.prototype._handleCancel=function(){return this.rejectModal()},n}(n),o.mixin(t.PlayerDestroyedView)})}.call(this),define("jst!templates/modals/no_seats_left",[],function(){return window.JST["public/assets/javascripts/templates/modals/no_seats_left"]=function(t){t||(t={});var e,n=[],o=t.safe,i=t.escape;return e=t.safe=function(t){if(t&&t.ecoSafe)return t;("undefined"==typeof t||null==t)&&(t="");var e=new String(t);return e.ecoSafe=!0,e},i||(i=t.escape=function(t){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push("No seats left\n")}).call(this)}.call(t),t.safe=o,t.escape=i,n.join("")}}),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("views/modals/no_seats_left_view",["views/modals/modules","views/modals/base","mixins/modalizable","jst!templates/modals/no_seats_left"],function(t,n,o,i){var r;return t.NoSeatsLeftView=function(t){function n(){return r=n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.modalizable={header:"No seats left on this game",buttons:{save:{text:"Yes",cb:"_handleOk"},cancel:{text:"No",cb:"_handleCancel"}}},n.prototype.render=function(){return this.$el.html(i())},n.prototype._handleOk=function(){return window.location=window.location},n.prototype._handleCancel=function(){return this.rejectModal()},n}(n),o.mixin(t.NoSeatsLeftView)})}.call(this),function(){define("views/scoreboard/modules",["views/modules"],function(t){return t.Scoreboard={}})}.call(this),define("jst!templates/scoreboard/item",[],function(){return window.JST["public/assets/javascripts/templates/scoreboard/item"]=function(t){t||(t={});var e,n=[],o=function(t){return t&&t.ecoSafe?t:"undefined"!=typeof t&&null!=t?r(t):""},i=t.safe,r=t.escape;return e=t.safe=function(t){if(t&&t.ecoSafe)return t;("undefined"==typeof t||null==t)&&(t="");var e=new String(t);return e.ecoSafe=!0,e},r||(r=t.escape=function(t){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){this.remote?(n.push("\n"),n.push(o(this.name)),n.push("\n")):n.push("\n  YOU\n"),n.push('\n<div class="progress">\n  <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: 100%">\n  </div>\n  <div class="progress-bar progress-bar-danger" style="width: 0%">\n    <span class="sr-only">10% Complete (danger)</span>\n  </div>\n</div>\n')}).call(this)}.call(t),t.safe=i,t.escape=r,n.join("")}}),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("views/scoreboard/item",["views/scoreboard/modules","backbone","jst!templates/scoreboard/item"],function(t,n,o){var i;return t.Item=function(t){function n(){return i=n.__super__.constructor.apply(this,arguments)}var r,s;return e(n,t),s="progress-bar-success",r="progress-bar-danger",n.prototype.className="scoreboard-item",n.prototype.initialize=function(t){this.options=t},n.prototype.render=function(){return this.$el.html(o(this.options)),this.$el.addClass(this.options.remote?"remote":"local"),this.update(this.options),this},n.prototype.destroy=function(){return this.$el.remove()},n.prototype.update=function(t){return this.$el.find("."+r).css({width:""+(100-t.value)+"%"}),this.$el.find("."+s).css({width:""+t.value+"%"})},n}(n.View)})}.call(this),define("jst!templates/scoreboard",[],function(){return window.JST["public/assets/javascripts/templates/scoreboard"]=function(t){t||(t={});var e,n=[],o=t.safe,i=t.escape;return e=t.safe=function(t){if(t&&t.ecoSafe)return t;("undefined"==typeof t||null==t)&&(t="");var e=new String(t);return e.ecoSafe=!0,e},i||(i=t.escape=function(t){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){}).call(this)}.call(t),t.safe=o,t.escape=i,n.join("")}}),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("views/scoreboard",["views/modules","backbone","views/scoreboard/item","jst!templates/scoreboard"],function(t,n,o,i){var r;return t.Scoreboard=function(t){function n(){return r=n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initialize=function(){return this._items=[]},n.prototype.render=function(){return this.$el.html(i()),this},n.prototype.create=function(t){return this.$el.append(this._build(t).render().el),this},n.prototype.destroy=function(t){return this._items[t.id].destroy(),delete this._items[t.id]},n.prototype.update=function(t){return this._items[t.id].update({value:t.value}),this},n.prototype._build=function(t){return this._items[t.id]=new o(t)},n}(n.View)})}.call(this),function(){define("initializers/views",["views/modals/player_destroyed_view","views/modals/no_seats_left_view","views/scoreboard"],function(t,e,n){return{playerDestroyed:new t,scoreboard:new n({el:".scoreboard"}),noSeatsLeft:new e}})}.call(this),function(){define("interests/modules",["modules"],function(t){return t.Interests={}})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};define("interests/score_board_interests",["interests/modules"],function(e){return e.ScoreBoardInterests=function(){function e(e,n){this.sc=e,this._handleItemDestroyEvent=t(this._handleItemDestroyEvent,this),this._handleItemUpdateEvent=t(this._handleItemUpdateEvent,this),this._handleItemCreateEvent=t(this._handleItemCreateEvent,this),n.on("scoreboard.update",this._handleItemUpdateEvent),n.on("scoreboard.create",this._handleItemCreateEvent),n.on("scoreboard.destroy",this._handleItemDestroyEvent)}return e.prototype._handleItemCreateEvent=function(t){return this.sc.create({id:t.id,name:t.name,value:t.value,color:t.color,remote:t.remote})},e.prototype._handleItemUpdateEvent=function(t){return this.sc.update({id:t.id,value:t.value})},e.prototype._handleItemDestroyEvent=function(t){return this.sc.destroy({id:t.id})},e}()})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};define("interests/player_destroyed_interests",["interests/modules"],function(e){return e.PlayerDestroyedInterests=function(){function e(e,n){this.view=e,this._handlePlayerDestroyed=t(this._handlePlayerDestroyed,this),n.on("player.destroyed",this._handlePlayerDestroyed)}return e.prototype._handlePlayerDestroyed=function(){return this.view.modalize()},e}()})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};define("interests/no_seats_left_view_interests",["interests/modules"],function(e){return e.NoSeatsLeftViewInterests=function(){function e(e,n){this.view=e,this._handleNoSeatsLeft=t(this._handleNoSeatsLeft,this),n.on("arena.no_seats_left",this._handleNoSeatsLeft)}return e.prototype._handleNoSeatsLeft=function(){return this.view.modalize()},e}()})}.call(this),function(){define("initializers/interests",["initializers/services","initializers/views","interests/score_board_interests","interests/player_destroyed_interests","interests/no_seats_left_view_interests"],function(t,e,n,o,i){return new n(e.scoreboard,t.eventBus),new o(e.playerDestroyed,t.eventBus),new i(e.noSeatsLeft,t.eventBus)})}.call(this),function(){define("avioneta/modules",["modules"],function(t){return t.Avioneta={}})}.call(this),function(){define("avioneta/services/modules",["avioneta/modules"],function(t){return t.Services={}})}.call(this),function(){define("config/modules",["modules"],function(t){return t.Config={}})}.call(this),function(){define("config/base",["config/modules"],function(t){return t.Base=function(){function t(){}return t.avioneta={arena:{width:800,height:400},websockets:{url:void 0}},t.override=function(t,e){var n,o,i,r,s,a;for(i=t.split("."),r=i.pop(),n=this,s=0,a=i.length;a>s;s++)o=i[s],n=n[o];return n[r]=e},t}()})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("configuration",["config/modules","config/base"],function(t,n){var o;return t.Production=function(t){function n(){return o=n.__super__.constructor.apply(this,arguments)}return e(n,t),n.override("avioneta.websockets.url","ws://blooming-tundra-4573.herokuapp.com"),n}(n)})}.call(this),function(){define("avioneta/services/command_sync",["avioneta/services/modules","configuration"],function(t,e){return t.CommandSync=function(){function t(){}var n;return n=e.avioneta.websockets.url,t.init=function(){return this._connection()},t.push=function(t){return t?this._ready?this._connection().send(t):this._queue_commands(t):void 0},t.get=function(t){return 0!==this._incomming_queue().length?(t(this._incomming_queue()),this._incomming_queue_=[]):void 0},t._connection=function(){var t=this;return this._websocket||(this._websocket=new WebSocket(n)),this._websocket.onopen=this._handleOnOpen,this._websocket.onmessage=function(e){return t._incomming_queue().push(e.data)},this._websocket},t._queue_commands=function(t){return this._commands_queue().push(t)},t._commands_queue=function(){return this._commands_queue_||(this._commands_queue_=[])},t._incomming_queue=function(){return this._incomming_queue_||(this._incomming_queue_=[])},t._handleOnOpen=function(){return t._ready=!0,t.push(t._commands_queue())},t}.call(this)})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};define("avioneta/services/mouse_coordinates",["avioneta/services/modules"],function(e){return e.MouseCoordinates=function(){function e(){this._handleMousemove=t(this._handleMousemove,this),this.coordinates={x:0,y:0},$(document).on("mousemove",this._handleMousemove)}return e.prototype._handleMousemove=function(t){return t.preventDefault(),this.coordinates={x:t.pageX,y:t.pageY}},e}()})}.call(this),function(){define("avioneta/services/canvas_mouse_coordinates",["avioneta/services/modules"],function(t){return t.CanvasMouseCoordinates=function(){function t(t){this.options=t,this.canvasCoordsService=this.options.canvasCoordsService,this.mouseCoordsService=this.options.mouseCoordsService}return t.prototype.coordinates=function(){return{x:this.mouseCoordsService.coordinates.x-this.canvasCoordsService.coordinates().x,y:this.mouseCoordsService.coordinates.y-this.canvasCoordsService.coordinates().y}},t}()})}.call(this),function(){define("avioneta/services/canvas_coordinates",["avioneta/services/modules"],function(t){return t.CanvasCoordinates=function(){function t(t){this.options=t}return t.prototype.coordinates=function(){var t=this;return this._coordinates||(this._coordinates=function(){return{x:t.options.canvas.getBoundingClientRect().left,y:t.options.canvas.getBoundingClientRect().top}}())},t}()})}.call(this),function(){define("avioneta/services/angle_calculator",["avioneta/services/modules"],function(t){return t.AngleCalculator=function(){function t(){}return t.prototype.angle=function(t,e){return t.y===e.y&&t.x===e.y?0:t.y===e.y?e.x<t.x?Math.PI:0:t.x===e.x?t.y<e.y?3*Math.PI/2:Math.PI/2:t.x<e.x&&t.y>e.y?this._calculateAngle(this._calculateTangent(t,e)):t.x>e.x&&t.y>e.y?Math.PI-this._calculateAngle(this._calculateTangent(t,e)):t.x>e.x&&t.y<e.y?Math.PI+this._calculateAngle(this._calculateTangent(t,e)):t.x<e.x&&t.y<e.y?2*Math.PI-this._calculateAngle(this._calculateTangent(t,e)):void 0},t.prototype._calculateTangent=function(t,e){return Math.abs(t.y-e.y)/Math.abs(t.x-e.x)},t.prototype._calculateAngle=function(t){return Math.atan(t)},t}()})}.call(this),function(){define("avioneta/services/collision_detection",["avioneta/services/modules"],function(t){return t.CollisionDetection=function(){function t(){}return t.prototype.detect=function(t,e,n,o){var i,r,s;return i=t.x-n.x,r=t.y-n.y,s=i*i+r*r,s<=(e.radius()+o.radius())*(e.radius()+o.radius())},t}()})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};define("avioneta/services/image_loader",["avioneta/services/modules"],function(e){return e.ImageLoader=function(){function e(e){this._handleImageLoaded=t(this._handleImageLoaded,this),this.path=e,this.deferred=$.Deferred()}return e.prototype.load=function(){return this.img=$("<img data-behaviour='image-resource'>").attr("src",this.path).appendTo("body")[0],this.img.onload=this._handleImageLoaded,this.deferred.promise()},e.prototype._handleImageLoaded=function(){return this.deferred.resolve(this.img)},e}()})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};define("avioneta/services/bulk_image_loader",["underscore","avioneta/services/modules","avioneta/services/image_loader"],function(e,n,o){return n.BulkImageLoader=function(){function n(e){this._handleFail=t(this._handleFail,this),this._handleDone=t(this._handleDone,this),this.paths=e,this.deferred=$.Deferred()}return n.prototype.load=function(){return $.when.apply(null,e.map(this.paths,function(t){return new o(t).load()})).done(this._handleDone).fail(this._handleFail),this.deferred.promise()},n.prototype._handleDone=function(){return this.deferred.resolve(Array.prototype.slice.call(arguments))},n.prototype._handleFail=function(){return console.log("Some images couldn't be loaded"),this.deferred.reject()},n}()})}.call(this),function(){define("avioneta/initializers/services",["avioneta/services/command_sync","avioneta/services/mouse_coordinates","avioneta/services/canvas_mouse_coordinates","avioneta/services/canvas_coordinates","avioneta/services/angle_calculator","avioneta/services/collision_detection","avioneta/services/bulk_image_loader"],function(t,e,n,o,i,r){var s;return t.init(),s=$(".main-canvas")[0],{commandSync:t,canvasMouseCoords:new n({canvasCoordsService:new o({canvas:s}),mouseCoordsService:new e}),angleCalculator:new i,collision_detection:new r}})}.call(this),function(){define("avioneta/serializers/modules",["avioneta/modules"],function(t){return t.Serializers={}})}.call(this),function(){define("avioneta/serializers/notifications/modules",["avioneta/serializers/modules"],function(t){return t.Notifications={}})}.call(this),function(){define("avioneta/notifications/modules",["avioneta/modules"],function(t){return t.Notifications={}})}.call(this),function(){define("avioneta/notifications/no_seats_left_notification",["avioneta/notifications/modules","event_bus"],function(t,e){return t.NoSeatsLeftNotification=function(){function t(){}return t.prototype.run=function(){return e.trigger("arena.no_seats_left")},t}()})}.call(this),function(){define("avioneta/serializers/notifications/no_seats_left_notification_serializer",["avioneta/serializers/notifications/modules","avioneta/notifications/no_seats_left_notification"],function(t,e){return t.NoSeatsLeftNotificationSerializer=function(){function t(){}return t.prototype.deserialize=function(){return new e},t}()})}.call(this),function(){define("avioneta/orders/modules",["avioneta/modules"],function(t){return t.Orders={}})}.call(this),function(){define("avioneta/orders/move_player_order",["avioneta/orders/modules"],function(t){return t.MovePlayerOrder=function(){function t(t){this.options=t}return t.prototype.run=function(t){var e;return e=t.getPlayer(this.options.id),e.move({direction:this.options.direction})},t}()})}.call(this),function(){define("avioneta/serializers/move_player_order_serializer",["avioneta/serializers/modules","avioneta/orders/move_player_order"],function(t,e){return t.MovePlayerOrderSerializer=function(){function t(){}return t.prototype.deserialize=function(t){return new e(t)},t}()})}.call(this),function(){define("avioneta/components/modules",["avioneta/modules"],function(t){return t.Components={}})}.call(this),function(){define("avioneta/components/shot",["avioneta/components/modules"],function(t){return t.Shot=function(){function t(t){this.model=t.model,this.remote=t.remote,this.player=t.player,this.active=!0,this.id=t.id}return t.prototype.paint=function(t){return this.model.paint(t)},t.prototype.move=function(){return this.model.move()},t.prototype.coordinates=function(){return this.model.coordinates},t.prototype.rotation=function(){return this.model.rotation},t.prototype.boundings=function(){return this.model.boundings},t.prototype.update=function(t,e,n){return this.model.update(this,t,e,n)},t.prototype.hit=function(){return this.model.hit(this)},t}()})}.call(this),function(){define("avioneta/serializers/player_serializer",["avioneta/serializers/modules"],function(t){return t.PlayerSerializer=function(){function t(t){this.player=t}return t.prototype.serializer=function(){return JSON.stringify(this.toJSON())},t.prototype.toJSON=function(){return{id:this.player.id,x:this.player.model.coordinates.x,y:this.player.model.coordinates.y}},t}()})}.call(this),function(){define("avioneta/commands/modules",["avioneta/modules"],function(t){return t.Commands={}})}.call(this),function(){define("avioneta/serializers/command_serializer",["avioneta/serializers/modules"],function(t){return t.CommandSerializer=function(){function t(t){this.command=t}return t.prototype.serialize=function(){return JSON.stringify(this.toJSON())},t.prototype.toJSON=function(){return{type:this.command.type(),data:this.command.data()}},t}()})}.call(this),function(){define("avioneta/commands/base_command",["avioneta/commands/modules","avioneta/serializers/command_serializer"],function(t,e){return t.BaseCommand=function(){function t(t){this.options=t}return t.prototype.serializer=e,t.prototype.type=function(){return this.options.name},t.prototype.data=function(){return this.options.data},t.prototype.serialize=function(){return new this.serializer(this).serialize()},t.prototype.toJSON=function(){return new this.serializer(this).toJSON()},t}()})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/commands/move_player_command",["underscore","avioneta/commands/modules","avioneta/commands/base_command"],function(t,n,o){return n.MovePlayerCommand=function(n){function o(e){o.__super__.constructor.call(this,t.extend({},{data:e,name:"MovePlayerCommand"}))}return e(o,n),o}(o)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/commands/shoot_player_command",["underscore","avioneta/commands/modules","avioneta/commands/base_command"],function(t,n,o){return n.ShootPlayerCommand=function(n){function o(e){o.__super__.constructor.call(this,t.extend({},{data:e,name:"ShootPlayerCommand"}))}return e(o,n),o}(o)})}.call(this),function(){define("avioneta/components/player",["avioneta/components/modules","avioneta/components/shot","avioneta/serializers/player_serializer","avioneta/commands/move_player_command","avioneta/commands/shoot_player_command","event_bus"],function(t,e,n,o,i,r){return t.Player=function(){function t(t){this.remote=t.remote,this.model=t.model,this.id=t.id,this.color=t.color,this.name=t.name,this.model.player=this}return t.prototype.shotTreshold=500,t.prototype.serializer=n,t.prototype.boundings=function(){return this.model.boundings},t.prototype.coordinates=function(){return this.model.coordinates},t.prototype.destroy=function(){return this.model.destroy(this)},t.prototype.hit=function(){return this.model.hit(),r.trigger("scoreboard.update",{id:this.id,value:this.model.life})},t.prototype.isAlive=function(){return this.model.isAlive()},t.prototype.isDestroyed=function(){return this.model.isDestroyed()},t.prototype.life=function(){return this.model.life},t.prototype.move=function(t){return this.model.move(t)},t.prototype.parts=function(){return this.model.parts},t.prototype.paint=function(t){return this.model.paint(t)},t.prototype.placement=function(){return{coordinates:this.model.coordinates,rotation:this.model.rotation}},t.prototype.place=function(t){return this.model.coordinates=t.coordinates,this.model.rotation=t.rotation},t.prototype.rotate=function(t){return this.model.rotate(t)},t.prototype.rotation=function(){return this.model.rotation},t.prototype.update=function(t,e,n){return this.model.update(this,t,e,n)},t}()})}.call(this),function(){define("avioneta/components/models/modules",["avioneta/components/modules"],function(t){return t.Models={}})}.call(this),function(){define("avioneta/components/models/player/modules",["avioneta/components/models/modules"],function(t){return t.Player={}})}.call(this),function(){define("avioneta/components/models/base",["avioneta/components/models/modules"],function(t){return t.Base=function(){function t(t){this.painter=t.painter,this.boundings=t.boundings,this.coordinates={x:t.coordinates.x,y:t.coordinates.y},this.behaviour=t.behaviour,this.rotation=t.rotation}return t.prototype.move=function(){throw"Missing implementation"},t.prototype.paint=function(t){return this.painter.paint(this,t)},t.prototype.update=function(t,e,n,o){return this.behaviour.update(t,e,n,o)},t.prototype.rotate=function(t){return this.rotation=t.rotation},t}()})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/components/models/player/base_model",["underscore","avioneta/components/models/player/modules","avioneta/components/models/base"],function(t,n,o){return n.BaseModel=function(t){function n(t){n.__super__.constructor.call(this,t),this.life=t.life}return e(n,t),n}(o)})}.call(this),function(){define("avioneta/mixins/modules",["avioneta/modules"],function(t){return t.Mixins={}})}.call(this),function(){define("avioneta/mixins/components/modules",["avioneta/mixins/modules"],function(t){return t.Components={}})}.call(this),function(){define("avioneta/mixins/components/player/modules",["avioneta/mixins/components/modules"],function(t){return t.Components={}})}.call(this),function(){define("avioneta/mixins/components/player/common",["avioneta/mixins/components/player/modules"],function(t){return t.Common=function(){var t;return t=this,t.isAlive=function(){return this.life>0},t.isDestroyed=function(){return this.destroyed}},t.Common.mixin=function(e){return t.Common.call(e.prototype),e},t.Common})}.call(this),function(){define("avioneta/painters/modules",["avioneta/modules"],function(t){return t.Painters={}})}.call(this),function(){define("avioneta/painters/player/modules",["avioneta/painters/modules"],function(t){return t.Player={}})}.call(this),function(){define("avioneta/painters/player/elements/modules",["avioneta/painters/player/modules"],function(t){return t.Elements={}})}.call(this),function(){define("avioneta/tools/modules",["avioneta/modules"],function(t){return t.Tools={}})}.call(this),function(){define("avioneta/tools/canvas/modules",["avioneta/tools/modules"],function(t){return t.Canvas={}})}.call(this),function(){define("avioneta/tools/canvas/brushes/modules",["avioneta/tools/canvas/modules"],function(t){return t.Brushes={}})}.call(this),function(){define("avioneta/tools/canvas/operations",["avioneta/tools/canvas/modules"],function(t){return t.Operations=function(){function t(){}return t["do"]=function(t,e){return t.save(),e(),t.restore()},t}()})}.call(this),function(){define("avioneta/tools/canvas/brushes/brush",["underscore","avioneta/tools/canvas/brushes/modules","avioneta/tools/canvas/operations"],function(t,e,n){return e.Brush=function(){function e(t){this.type=t.type,this.transformations=t.transformations}return e.prototype.paint=function(e,o){var i=this;return n["do"](o,function(){return t.invoke(i.transformations,"transform",e.transformations,o),i.type.paint(e.type,o)})},e}()})}.call(this),function(){define("avioneta/tools/canvas/brushes/types/modules",["avioneta/tools/canvas/brushes/modules"],function(t){return t.Types={}})}.call(this),function(){define("avioneta/tools/canvas/brushes/types/sprite",["avioneta/tools/canvas/brushes/types/modules"],function(t){return t.Sprite=function(){function t(){}return t.prototype.paint=function(t,e){return e.drawImage(t.sprite(),t.coordinatesInSprite().x,t.coordinatesInSprite().y,t.width(),t.height(),t.coordinatesInCanvas().x,t.coordinatesInCanvas().y,t.width(),t.height())},t}()})}.call(this),function(){define("avioneta/tools/canvas/utils/modules",["avioneta/tools/canvas/modules"],function(t){return t.Utils={}})}.call(this),function(){define("avioneta/tools/canvas/utils/sprite_config",["avioneta/tools/canvas/utils/modules"],function(t){return t.SpriteConfig=function(){function t(t){this.options=t}return t.prototype.image=function(){return this.options.image},t.prototype.coordinatesInCanvas=function(){return this.options.coordinates.canvas},t.prototype.coordinatesInSprite=function(){return this.options.coordinates.sprite},t.prototype.width=function(){return this.options.width},t.prototype.height=function(){return this.options.height},t.prototype.sprite=function(){return this.options.sprite},t}()})}.call(this),function(){define("avioneta/tools/canvas/transformations/modules",["avioneta/tools/canvas/modules"],function(t){return t.Transformations={}})}.call(this),function(){define("avioneta/tools/canvas/transformations/translation",["avioneta/tools/canvas/transformations/modules"],function(t){return t.Translation=function(){function t(){}return t.prototype.transform=function(t,e){return e.translate(t.translation.x,t.translation.y)},t}()})}.call(this),function(){define("avioneta/tools/canvas/transformations/rotation",["avioneta/tools/canvas/transformations/modules"],function(t){return t.Rotation=function(){function t(){}return t.prototype.transform=function(t,e){return e.rotate(t.rotation)},t}()})}.call(this),function(){define("avioneta/painters/player/elements/plane",["avioneta/painters/player/elements/modules","avioneta/tools/canvas/brushes/brush","avioneta/tools/canvas/brushes/types/sprite","avioneta/tools/canvas/utils/sprite_config","avioneta/tools/canvas/transformations/translation","avioneta/tools/canvas/transformations/rotation"],function(t,e,n,o,i,r){return t.Basic=function(){function t(){this.radius=20,this.cycles=0,this.brushes={plane:new e({type:new n,transformations:this.transformations()})},this.dashoffset=0}return t.prototype.paint=function(t,e){return this.cycles+=1,this.brushes.plane.paint(this.planeBrushConfig(t),e)},t.prototype.planeBrushConfig=function(t){return{transformations:{translation:{x:t.coordinates.x,y:t.coordinates.y},rotation:-t.rotation},type:this.spritePainterConfig()}},t.prototype.spritePainterConfig=function(){return this._spritePainterConfig||(this._spritePainterConfig=new o({sprite:$("[data-behaviour~=image-resource]")[0],coordinates:{sprite:{x:805,y:0},canvas:{x:-24,y:-24}},width:48,height:48}))},t.prototype.transformations=function(){return[new i,new r]},t}()})}.call(this),function(){define("avioneta/tools/canvas/brushes/types/shape",["avioneta/tools/canvas/brushes/types/modules"],function(t){return t.Shape=function(){function t(){}return t.prototype.paint=function(t,e){return e.fillStyle=t.color,t.border&&(e.lineWidth=t.border.width,e.strokeStyle=t.border.color,t.border.dash)?(e.lineDashOffset=t.border.dash.offset,e.setLineDash(t.border.dash.style)):void 0},t}()})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/tools/canvas/brushes/types/circle",["avioneta/tools/canvas/brushes/types/modules","avioneta/tools/canvas/brushes/types/shape"],function(t,n){var o;return t.Circle=function(t){function n(){return o=n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.paint=function(t,e){return n.__super__.paint.call(this,t,e),e.beginPath(),e.arc(t.coordinates.x,t.coordinates.y,t.radius,0,2*Math.PI),e.fill(),e.stroke()},n}(n)})}.call(this),function(){define("avioneta/painters/player/elements/marker",["avioneta/painters/player/elements/modules","avioneta/tools/canvas/brushes/brush","avioneta/tools/canvas/brushes/types/circle"],function(t,e,n){return t.Marker=function(){function t(){this.cycles=0,this.brush=new e({type:new n}),this.dashoffset=0}return t.prototype.radius=20,t.prototype.paint=function(t,e){return this.cycles+=1,this.brush.paint(this.circleBrushConfig(t),e)},t.prototype.circleBrushConfig=function(t){return 0===this.cycles%4&&(this.dashoffset+=5),{type:{border:{width:3,color:"rgba(251, 51, 51, 0.4)",dash:{offset:this.dashoffset,style:[3,3]}},coordinates:t.coordinates,color:"rgba(0, 0, 0, 0)",radius:this.radius}}},t}()})}.call(this),function(){define("avioneta/tools/canvas/effects/modules",["avioneta/tools/canvas/modules"],function(t){return t.Effects={}})}.call(this),function(){define("avioneta/tools/canvas/effects/fade_out",["avioneta/tools/canvas/effects/modules"],function(t){return t.FadeOut=function(){function t(t){this.duration=t.duration,this.onFinish=t.onFinish}return t.prototype.apply=function(t){return t.globalAlpha=.5-(.5-this.duration/100),this.duration-=1,0===this.duration?this.onFinish():void 0},t}()})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};define("avioneta/painters/player/destroy",["avioneta/painters/player/elements/modules","avioneta/painters/player/elements/plane","avioneta/painters/player/elements/marker","avioneta/tools/canvas/effects/fade_out","avioneta/tools/canvas/operations"],function(e,n,o,i,r){return e.Destroy=function(){function e(e){this._handleFadeFinish=t(this._handleFadeFinish,this),this.callback=e.cb,this.elements=[new n],e.marker&&this.elements.push(new o),this.effect=new i({duration:this.fadingCycles,onFinish:this._handleFadeFinish})}return e.prototype.fadingCycles=50,e.prototype.paint=function(t,e){var n=this;return r["do"](e,function(){return n.effect.apply(e),_.invoke(n.elements,"paint",t,e)})},e.prototype._handleFadeFinish=function(){return this.callback()},e}()})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,n=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};define("avioneta/components/models/player/destroy_model",["underscore","avioneta/components/models/player/modules","avioneta/components/models/player/base_model","avioneta/mixins/components/player/common","avioneta/painters/player/destroy"],function(e,o,i,r,s){return o.DestroyModel=function(o){function i(n){this._handlePainterFinish=t(this._handlePainterFinish,this),i.__super__.constructor.call(this,e.extend(n,{painter:new s({marker:n.marker,cb:this._handlePainterFinish}),life:0}))
}return n(i,o),i.prototype.width=100,i.prototype.height=5,i.prototype.hit=function(){},i.prototype._handlePainterFinish=function(){return this.destroyed=!0},i}(i),r.mixin(o.DestroyModel)})}.call(this),function(){define("avioneta/components/utils/modules",["avioneta/components/modules"],function(t){return t.Utils={}})}.call(this),function(){define("avioneta/components/utils/bounding_circle",["avioneta/components/utils/modules"],function(t){return t.BoundingCircle=function(){function t(t){this.options=t}return t.prototype.radius=function(){return this.options.radius},t}()})}.call(this),function(){define("avioneta/components/parts/modules",["avioneta/components/modules"],function(t){return t.Parts={}})}.call(this),function(){define("avioneta/components/parts/cannon",["avioneta/components/parts/modules"],function(t){return t.Cannon=function(){function t(t){this.options=t}return t.prototype.coordinates=function(){return this.options.coordinates},t}()})}.call(this),function(){define("avioneta/painters/player/alive",["underscore","avioneta/painters/player/modules","avioneta/painters/player/elements/plane","avioneta/painters/player/elements/marker","avioneta/tools/canvas/operations"],function(t,e,n,o,i){return e.Alive=function(){function e(t){this.elements=[new n],t.marker&&this.elements.push(new o)}return e.prototype.paint=function(e,n){var o=this;return i["do"](n,function(){return t.invoke(o.elements,"paint",e,n)})},e}()})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/components/models/player/basic_model",["underscore","avioneta/components/models/player/modules","avioneta/components/models/player/base_model","avioneta/components/models/player/destroy_model","avioneta/components/utils/bounding_circle","avioneta/components/parts/cannon","avioneta/mixins/components/player/common","avioneta/painters/player/alive"],function(t,n,o,i,r,s,a,u){return n.BasicModel=function(n){function o(e){this.options=e,o.__super__.constructor.call(this,t.extend(this.options,{painter:new u({marker:this.options.marker}),rotation:0,boundings:new r({radius:this.radius})})),this.parts={cannons:[new s({coordinates:{x:14,y:0}})]}}return e(o,n),o.prototype.radius=16,o.prototype.speed=2,o.prototype.move=function(t){var e,n;return e=this.speed*Math.cos(-this.rotation)*("up"===t.direction?1:-1),n=this.speed*Math.sin(-this.rotation)*("up"===t.direction?1:-1),this.coordinates.x+=e,this.coordinates.y+=n},o.prototype.hit=function(){return this.life-=10},o.prototype.destroy=function(t){return t.model=new i({coordinates:this.coordinates,behaviour:this.behaviour.destroy(),boundings:this.boundings,marker:this.options.marker})},o}(o),a.mixin(n.BasicModel)})}.call(this),function(){define("avioneta/components/behaviours/modules",["avioneta/components/modules"],function(t){return t.Behaviours={}})}.call(this),function(){define("avioneta/components/behaviours/player/modules",["avioneta/components/behaviours/modules"],function(t){return t.Player={}})}.call(this),function(){function t(t,n){var o,i=t.keyCode;switch(i){case 87:o="W";break;case 83:o="S";break;case 32:o="SPACE";break;default:o=String.fromCharCode(i)}e[o]=n}var e={};document.addEventListener("keydown",function(e){t(e,!0)}),document.addEventListener("keyup",function(e){t(e,!1)}),window.addEventListener("blur",function(){e={}}),window.input={isDown:function(t){return e[t.toUpperCase()]}}}(),define("input",function(t){return function(){var e;return e||t.input}}(this)),function(){define("avioneta/components/behaviours/player/base",["avioneta/components/behaviours/player/modules","input"],function(t,e){return t.BasePlayerBehaviour=function(){function t(){}return t.prototype.update=function(t,n,o,i){var r,s,a,u,c=this;return this.placement&&(this.previousPlacement={coordinates:{x:this.placement.coordinates.x,y:this.placement.coordinates.y},rotation:this.placement.rotation}),u=t.placement(),this.placement={coordinates:{x:u.coordinates.x,y:u.coordinates.y},rotation:u.rotation},r=[],_.each(n.shots,function(e){return t!==e.player&&i.collision_detection.detect(t.coordinates(),t.boundings(),e.coordinates(),e.boundings())?(console.log("Player hitted"),r.push(new c.hitPlayerAction({player:t.id,shot:e.id}))):void 0}),t.isAlive()?(n.isElementOutOfArena(t.coordinates(),t.boundings())||this._playerCollidesWithOtherPlayers(t,n,i)?r.push(new this.placePlayerAction({player:t.id,placement:this.previousPlacement})):(a=i.canvasMouseCoords.coordinates(),this.mouseCoords?(a.x!==this.mouseCoords.x||a.y!==this.mouseCoords.y)&&(this.mouseCoords=a,s=i.angleCalculator.angle(t.coordinates(),this.mouseCoords),r.push(new this.rotatePlayerAction({player:t.id,rotation:s}))):(this.mouseCoords=a,s=i.angleCalculator.angle(t.coordinates(),this.mouseCoords),r.push(new this.rotatePlayerAction({player:t.id,rotation:s}))),e.isDown("S")?r.push(new this.movePlayerAction({player:t.id,direction:"down"})):e.isDown("W")&&r.push(new this.movePlayerAction({player:t.id,direction:"up"}))),e.isDown("SPACE")&&(o-t.previousShot>t.shotTreshold||void 0===t.previousShot)&&(t.previousShot=o,r.push(new this.shootPlayerAction({player:t.id}))),r):(r.push(new this.destroyPlayerAction({player:t.id})),r)},t.prototype.destroy=function(){return new this.destroyedPlayerBehaviour},t.prototype._xCoordinate=function(t){return t.model.coordinates.x},t.prototype._yCoordinate=function(t){return t.model.coordinates.y},t.prototype._playerCollidesWithOtherPlayers=function(t,e,n){return _.find(e.players,function(e){return e!==t&&n.collision_detection.detect(t.coordinates(),t.boundings(),e.coordinates(),e.boundings())?!0:void 0})},t}()})}.call(this),function(){define("avioneta/components/behaviours/player/destroyed/modules",["avioneta/components/behaviours/player/modules"],function(t){return t.Destroyed={}})}.call(this),function(){define("avioneta/actions/modules",["avioneta/modules"],function(t){return t.Actions={}})}.call(this),function(){define("avioneta/actions/base",["avioneta/actions/modules"],function(t){return t.Base=function(){function t(t){this.options=t}return t}()})}.call(this),function(){define("avioneta/serializers/command_serializers/modules",["avioneta/serializers/modules"],function(t){return t.CommandSerializers={}})}.call(this),function(){define("avioneta/serializers/command_serializers/base",["avioneta/serializers/command_serializers/modules"],function(t){return t.Base=function(){function t(t){this.command=t}return t.prototype.serialize=function(){return JSON.stringify(this.toJSON())},t.prototype.toJSON=function(){return{type:this.command.type(),data:this.command.data()}},t}()})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/serializers/command_serializers/null_serializer",["avioneta/serializers/command_serializers/modules","avioneta/serializers/command_serializers/base"],function(t,n){var o;return t.NullSerializer=function(t){function n(){return o=n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.serialize=function(){return void 0},n.prototype.toJSON=function(){return void 0},n}(n)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/commands/null_command",["avioneta/commands/modules","avioneta/commands/base_command","avioneta/serializers/command_serializers/null_serializer"],function(t,n,o){var i;return t.NullCommand=function(t){function n(){return i=n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.serializer=o,n.prototype.run=function(){},n}(n)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/actions/player/remove_player_action",["avioneta/actions/modules","avioneta/actions/base","avioneta/commands/null_command"],function(t,n,o){var i;return t.RemovePlayerAction=function(t){function n(){return i=n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.run=function(t){return t.removePlayer(t.getPlayer(this.options.player))},n.prototype.command=function(){return new o},n}(n)})}.call(this),function(){define("avioneta/actions/null_action",["avioneta/actions/modules","avioneta/commands/null_command"],function(t,e){return t.NullAction=function(){function t(){}return t.prototype.run=function(){},t.prototype.command=function(){return new e},t}()})}.call(this),function(){define("avioneta/components/behaviours/player/destroyed/base",["avioneta/components/behaviours/player/destroyed/modules","avioneta/actions/player/remove_player_action","avioneta/actions/null_action"],function(t,e,n){return t.DestroyedPlayerBehaviours=function(){function t(){}return t.prototype.update=function(t,o,i){return t.isDestroyed()?(this.playerDestroyed(t,o,i),new e({player:t.id})):new n},t}()})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/components/behaviours/player/destroyed/remote",["avioneta/components/behaviours/player/destroyed/modules","avioneta/components/behaviours/player/destroyed/base"],function(t,n){var o;return t.DestroyedRemotePlayerBehaviour=function(t){function n(){return o=n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.playerDestroyed=function(){},n}(n)})}.call(this),function(){define("avioneta/actions/player/modules",["avioneta/actions/modules"],function(t){return t.Player={}})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/actions/player/hit_player_action",["avioneta/actions/player/modules","avioneta/actions/base"],function(t,n){var o;return t.HitPlayerAction=function(t){function n(){return o=n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.run=function(t){return t.getPlayer(this.options.player).hit()},n}(n)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/actions/player/hit_remote_player_action",["avioneta/actions/player/modules","avioneta/actions/player/hit_player_action","avioneta/commands/null_command"],function(t,n,o){var i;return t.HitRemotePlayerAction=function(t){function n(){return i=n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.command=function(){return new o},n}(n)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/actions/player/destroy_player_action",["avioneta/actions/player/modules","avioneta/actions/base"],function(t,n){var o;return t.DestroyPlayerAction=function(t){function n(){return o=n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.run=function(t){return t.getPlayer(this.options.player).destroy()},n}(n)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/actions/player/destroy_remote_player_action",["avioneta/actions/player/modules","avioneta/actions/player/destroy_player_action","avioneta/commands/null_command"],function(t,n,o){var i;return t.DestroyRemotePlayerAction=function(t){function n(){return i=n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.command=function(){return new o},n}(n)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/components/behaviours/player/remote",["avioneta/components/behaviours/player/modules","avioneta/components/behaviours/player/base","avioneta/components/behaviours/player/destroyed/remote","avioneta/actions/player/hit_remote_player_action","avioneta/actions/player/destroy_remote_player_action","avioneta/actions/null_action"],function(t,n,o,i,r,s){var a;return t.Remote=function(t){function n(){return a=n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.hitPlayerAction=i,n.prototype.destroyPlayerAction=r,n.prototype.movePlayerAction=s,n.prototype.shootPlayerAction=s,n.prototype.backtrackPlayerAction=s,n.prototype.rotatePlayerAction=s,n.prototype.placePlayerAction=s,n.prototype.destroyedPlayerBehaviour=o,n}(n)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/components/behaviours/player/destroyed/local",["avioneta/components/behaviours/player/destroyed/modules","avioneta/components/behaviours/player/destroyed/base","event_bus"],function(t,n,o){var i;return t.DestroyedLocalPlayerBehaviour=function(t){function n(){return i=n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.playerDestroyed=function(){return o.trigger("player.destroyed")},n}(n)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/actions/player/move_player_action",["avioneta/actions/player/modules","avioneta/actions/base","avioneta/commands/move_player_command"],function(t,n,o){var i;return t.MovePlayerAction=function(t){function n(){return i=n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.run=function(t){return t.getPlayer(this.options.player).move({direction:this.options.direction})},n.prototype.command=function(){return new o(this.options)},n}(n)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/actions/player/shoot_player_action",["avioneta/actions/player/modules","avioneta/actions/base","avioneta/commands/shoot_player_command"],function(t,n,o){var i;return t.ShootPlayerAction=function(t){function n(){return i=n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.run=function(){},n.prototype.command=function(){return new o(this.options)},n}(n)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/commands/destroy_player_command",["underscore","avioneta/commands/modules","avioneta/commands/base_command"],function(t,n,o){return n.DestroyPlayerCommand=function(n){function o(e){o.__super__.constructor.call(this,t.extend({},{data:e,name:"DestroyPlayerCommand"}))}return e(o,n),o}(o)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/actions/player/destroy_local_player_action",["avioneta/actions/player/modules","avioneta/actions/player/destroy_player_action","avioneta/commands/destroy_player_command"],function(t,n,o){var i;return t.DestroyLocalPlayerAction=function(t){function n(){return i=n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.command=function(){return new o(this.options)},n}(n)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/commands/shot_hit_player_command",["underscore","avioneta/commands/modules","avioneta/commands/base_command"],function(t,n,o){return n.ShotHitPlayerCommand=function(n){function o(e){null==e&&(e={}),o.__super__.constructor.call(this,t.extend({},{data:e,name:"ShotHitPlayerCommand"}))}return e(o,n),o}(o)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/actions/player/hit_local_player_action",["avioneta/actions/player/modules","avioneta/actions/player/hit_player_action","avioneta/commands/shot_hit_player_command"],function(t,n,o){var i;return t.HitLocalPlayerAction=function(t){function n(){return i=n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.command=function(){return new o(this.options)},n}(n)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/commands/rotate_player_command",["underscore","avioneta/commands/modules","avioneta/commands/base_command"],function(t,n,o){return n.RotatePlayerCommand=function(n){function o(e){o.__super__.constructor.call(this,t.extend({},{data:e,name:"RotatePlayerCommand"}))}return e(o,n),o}(o)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/actions/player/rotate_player_action",["avioneta/actions/player/modules","avioneta/actions/base","avioneta/commands/rotate_player_command"],function(t,n,o){var i;return t.RotatePlayerAction=function(t){function n(){return i=n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.run=function(t){return t.getPlayer(this.options.player).rotate({rotation:this.options.rotation})},n.prototype.command=function(){return new o(this.options)},n}(n)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/actions/player/place_player_action",["avioneta/actions/player/modules","avioneta/actions/base","avioneta/commands/null_command"],function(t,n,o){var i;return t.PlacePlayerAction=function(t){function n(){return i=n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.run=function(t){return t.getPlayer(this.options.player).place(this.options.placement)},n.prototype.command=function(){return new o},n}(n)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/components/behaviours/player/local",["avioneta/components/behaviours/player/modules","avioneta/components/behaviours/player/base","avioneta/components/behaviours/player/destroyed/local","avioneta/actions/player/move_player_action","avioneta/actions/player/shoot_player_action","avioneta/actions/player/destroy_local_player_action","avioneta/actions/player/hit_local_player_action","avioneta/actions/player/rotate_player_action","avioneta/actions/player/place_player_action"],function(t,n,o,i,r,s,a,u,c){var l;return t.Local=function(t){function n(){return l=n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.hitPlayerAction=a,n.prototype.destroyPlayerAction=s,n.prototype.movePlayerAction=i,n.prototype.shootPlayerAction=r,n.prototype.rotatePlayerAction=u,n.prototype.placePlayerAction=c,n.prototype.destroyedPlayerBehaviour=o,n}(n)})}.call(this),function(){define("avioneta/orders/register_player_order",["avioneta/orders/modules","avioneta/components/player","avioneta/components/models/player/basic_model","avioneta/components/behaviours/player/remote","avioneta/components/behaviours/player/local"],function(t,e,n,o,i){return t.RegisterPlayerOrder=function(){function t(t){this.options=t}return t.prototype.run=function(t){var o;return o=new e({id:this.options.id,color:this.options.color,model:new n({marker:this._marker(),life:this.options.life,coordinates:{x:this.options.x,y:this.options.y},behaviour:this._behaviour()}),name:this.options.name,remote:this.options.remote}),t.addPlayer(o)},t.prototype._behaviour=function(){return this.options.remote?new o:new i},t.prototype._marker=function(){return!this.options.remote},t}()})}.call(this),function(){define("avioneta/serializers/register_player_order_serializer",["avioneta/serializers/modules","avioneta/orders/register_player_order"],function(t,e){return t.RegisterPlayerOrderSerializer=function(){function t(){}return t.prototype.deserialize=function(t){return new e(t)},t}()})}.call(this),function(){define("avioneta/components/models/shot/modules",["avioneta/components/models/modules"],function(t){return t.Shot={}})}.call(this),function(){define("avioneta/actions/shot/modules",["avioneta/actions/modules"],function(t){return t.Shot={}})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/actions/shot/move_shot_action",["avioneta/actions/shot/modules","avioneta/actions/base","avioneta/commands/null_command"],function(t,n,o){var i;return t.MoveShotAction=function(t){function n(){return i=n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.run=function(t){return t.getShot(this.options.shot).move()},n.prototype.command=function(){return new o},n}(n)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/actions/shot/remove_shot_action",["avioneta/actions/shot/modules","avioneta/actions/base","avioneta/commands/null_command"],function(t,n,o){var i;return t.RemoveShotAction=function(t){function n(){return i=n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.run=function(t){return t.removeShot(t.getShot(this.options.shot))},n.prototype.command=function(){return new o},n}(n)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/actions/shot/shot_hit_action",["avioneta/actions/shot/modules","avioneta/actions/base","avioneta/commands/null_command"],function(t,n,o){var i;return t.ShotHitActions=function(t){function n(){return i=n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.run=function(t){return t.getShot(this.options.shot).hit()},n.prototype.command=function(){return new o},n}(n)})}.call(this),function(){define("avioneta/components/behaviours/shot/base",["avioneta/components/behaviours/modules","avioneta/actions/shot/move_shot_action","avioneta/actions/shot/remove_shot_action","avioneta/actions/shot/shot_hit_action"],function(t,e,n,o){return t.Base=function(){function t(){}return t.prototype.update=function(t,i,r,s){var a,u;return this._shotIsOutOfArena(t,i)?new n({shot:t.id}):(u=this._shotHitsPlayer(t,i,s))?(a=[],a.push(new o({shot:t.id})),a.push(new n({shot:t.id})),a):new e({shot:t.id})},t.prototype._shotIsOutOfArena=function(t,e){return e.isElementOutOfArena(t.coordinates(),t.boundings())},t.prototype._shotHitsPlayer=function(t,e,n){return _.find(e.players,function(e){return e!==t.player&&n.collision_detection.detect(e.coordinates(),e.boundings(),t.coordinates(),t.boundings())})},t}()})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/components/behaviours/shot/local",["avioneta/components/behaviours/modules","avioneta/components/behaviours/shot/base"],function(t,n){var o;return t.Local=function(t){function n(){return o=n.__super__.constructor.apply(this,arguments)}return e(n,t),n}(n)})}.call(this),function(){define("avioneta/painters/shot/circular",["avioneta/painters/modules","avioneta/tools/canvas/brushes/brush","avioneta/tools/canvas/brushes/types/circle"],function(t,e,n){return t.Circular=function(){function t(){this.brush=new e({type:new n})}return t.prototype.paint=function(t,e){return this.brush.paint(this.brushOptions(t),e)},t.prototype.brushOptions=function(t){return{type:{coordinates:t.coordinates,radius:t.radius,color:"red",border:{color:"red"}}}},t}()})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/components/models/shot/basic_model",["underscore","avioneta/components/models/shot/modules","avioneta/components/models/base","avioneta/components/behaviours/shot/local","avioneta/components/utils/bounding_circle","avioneta/painters/shot/circular"],function(t,n,o,i,r,s){return n.BasicModel=function(n){function o(e){o.__super__.constructor.call(this,t.extend(e,{painter:new s,boundings:new r({radius:this.radius}),behaviour:new i}))}return e(o,n),o.prototype.width=3,o.prototype.height=3,o.prototype.radius=3,o.prototype.speed=3,o.prototype.move=function(){var t,e;return t=this.speed*Math.cos(-this.rotation),e=this.speed*Math.sin(-this.rotation),this.coordinates.x+=t,this.coordinates.y+=e},o.prototype.hit=function(t){return t.active=!1},o}(o)})}.call(this),function(){define("avioneta/services/matrix_product",["underscore","avioneta/services/modules"],function(t,e){return e.MatrixProduct=function(){function e(t){this.matrix=t}return e.prototype.byVector=function(e){return t.reduce(this.matrix,function(n,o){return n.push(t.reduce(t.zip(o,e),function(t,e){return t+=e[0]*e[1]},0)),n},[])},e}()})}.call(this),function(){define("avioneta/services/translation_matrix_calculator",["avioneta/services/modules","avioneta/services/matrix_product"],function(t,e){return t.TranslationMatrixCalculator=function(){function t(){}return t.calculate=function(t,n){return new e(this._buildMatrix(t)).byVector(n)},t._buildMatrix=function(t){return[[1,0,t[0]],[0,-1,t[1]],[0,0,1]]},t}()})}.call(this),function(){define("avioneta/services/rotation_matrix_calculator",["avioneta/services/modules","avioneta/services/matrix_product"],function(t,e){return t.RotationMatrixCalculator=function(){function t(){}return t.calculate=function(t,n){return new e(this._buildMatrix(t)).byVector(n)},t._buildMatrix=function(t){return[[Math.cos(t),-Math.sin(t)],[Math.sin(t),Math.cos(t)]]},t}()})}.call(this),function(){define("avioneta/orders/shoot_player_order",["avioneta/orders/modules","avioneta/components/shot","avioneta/components/models/shot/basic_model","avioneta/services/translation_matrix_calculator","avioneta/services/rotation_matrix_calculator"],function(t,e,n,o,i){return t.ShootPlayerOrder=function(){function t(t){this.options=t}return t.prototype.run=function(t){var o,i;return o=t.getPlayer(this.options.id),i=new e({id:this.options.shot_id,player:o,remote:void 0,model:new n({coordinates:this._calculateShotCoordinates(o),rotation:o.rotation()})}),t.addShot(i)},t.prototype._calculateShotCoordinates=function(t){var e,n,r,s,a;return e=t.parts().cannons[0],a=[t.coordinates().x,t.coordinates().y,1],n=[e.coordinates().x,e.coordinates().y],r=i.calculate(t.rotation(),n),r.push(1),s=o.calculate(a,r),{x:s[0],y:s[1]}},t}()})}.call(this),function(){define("avioneta/serializers/shoot_player_order_serializer",["avioneta/serializers/modules","avioneta/orders/shoot_player_order"],function(t,e){return t.ShootPlayerOrderSerializer=function(){function t(){}return t.prototype.deserialize=function(t){return new e(t)},t}()})}.call(this),function(){define("avioneta/orders/disconnect_player_order",["avioneta/orders/modules","avioneta/components/player"],function(t){return t.DisconnectPlayerOrder=function(){function t(t){this.options=t}return t.prototype.run=function(t){return t.removePlayer(t.getPlayer(this.options.id))},t}()})}.call(this),function(){define("avioneta/serializers/disconnect_player_order_serializer",["avioneta/serializers/modules","avioneta/orders/disconnect_player_order"],function(t,e){return t.DisconnectPlayerOrderSerializer=function(){function t(){}return t.prototype.deserialize=function(t){return new e(t)},t}()})}.call(this),function(){define("avioneta/orders/destroy_player_order",["avioneta/orders/modules","event_bus"],function(t){return t.DestroyPlayerOrder=function(){function t(t){this.options=t}return t.prototype.run=function(t){return t.getPlayer(this.options.id).destroy()},t}()})}.call(this),function(){define("avioneta/serializers/destroy_player_order_serializer",["avioneta/serializers/modules","avioneta/orders/destroy_player_order"],function(t,e){return t.DestroyPlayerOrderSerializer=function(){function t(){}return t.prototype.deserialize=function(t){return new e(t)},t}()})}.call(this),function(){define("avioneta/orders/rotate_player_order",["avioneta/orders/modules"],function(t){return t.RotatePlayerOrder=function(){function t(t){this.options=t}return t.prototype.run=function(t){var e;return e=t.getPlayer(this.options.id),e.rotate({rotation:this.options.rotation})},t}()})}.call(this),function(){define("avioneta/serializers/rotate_player_order_serializer",["avioneta/serializers/modules","avioneta/orders/rotate_player_order"],function(t,e){return t.MovePlayerOrderSerializer=function(){function t(){}return t.prototype.deserialize=function(t){return new e(t)},t}()})}.call(this),function(){require(["avioneta/serializers/notifications/no_seats_left_notification_serializer","avioneta/serializers/move_player_order_serializer","avioneta/serializers/register_player_order_serializer","avioneta/serializers/shoot_player_order_serializer","avioneta/serializers/disconnect_player_order_serializer","avioneta/serializers/destroy_player_order_serializer","avioneta/serializers/rotate_player_order_serializer"])}.call(this),define("avioneta/initializers/serializers",function(){}),function(){define("avioneta/painters/misc/modules",["avioneta/painters/modules"],function(t){return t.Misc={}})}.call(this),function(){define("avioneta/painters/misc/background",["avioneta/painters/misc/modules","avioneta/tools/canvas/brushes/brush","avioneta/tools/canvas/brushes/types/sprite","avioneta/tools/canvas/utils/sprite_config"],function(t,e,n,o){return t.Background=function(){function t(){this.brush=new e({type:new n})}return t.prototype.paint=function(t){return this.brush.paint(this.brushOptions(),t)},t.prototype.brushOptions=function(){return this._brushOptions||(this._brushOptions={type:new o({sprite:$("[data-behaviour~=image-resource]")[0],coordinates:{sprite:{x:0,y:0},canvas:{x:0,y:0}},width:800,height:400})})},t}()})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};define("avioneta/gui",["avioneta/modules","avioneta/painters/misc/background"],function(e,n){return e.GUI=function(){function e(e){this.loop=t(this.loop,this),this._mainCanvas=e.mainCanvas,this._backgroundCanvas=e.backgroundCanvas,this._initTickCount(),this._nextGameTick=this._getTickCount()
}var o,i,r;return r=30,i=1e3/r,o=10,e.prototype.start=function(t){return this._game=t,(new n).paint(this._backgroundCanvas),requestAnimationFrame(this.loop)},e.prototype.loop=function(){for(requestAnimationFrame(this.loop),this._loops=0;this._getTickCount()>this._nextGameTick&&this._loops<o;)this.update(),this._nextGameTick+=i,this._loops+=1;return this.render()},e.prototype.render=function(){return this._mainCanvas.clearRect(0,0,this._mainCanvas.canvas.width,this._mainCanvas.canvas.height),this._game.render(this._mainCanvas)},e.prototype.update=function(){return this._game.update()},e.prototype._getTickCount=function(){return Date.now()-this._initialTickCount},e.prototype._initTickCount=function(){return this._initialTickCount=Date.now()},e}()})}.call(this),function(){define("avioneta/components/arena",["underscore","avioneta/components/modules","avioneta/commands/destroy_player_command","event_bus"],function(t,e,n,o){return e.Arena=function(){function e(t){this.width=t.width,this.height=t.height,this.players=[],this.shots=[]}return e.prototype.addPlayer=function(t){return this.players.push(t),o.trigger("scoreboard.create",{id:t.id,name:t.name,value:t.life(),color:t.color,remote:t.remote})},e.prototype.removePlayer=function(e){return this.players=t.reject(this.players,function(t){return t===e}),o.trigger("scoreboard.destroy",{id:e.id})},e.prototype.addShot=function(t){return this.shots.push(t)},e.prototype.removeShot=function(e){return this.shots=t.reject(this.shots,function(t){return t===e})},e.prototype.getPlayer=function(e){return t.find(this.players,function(t){return t.id===e})},e.prototype.getShot=function(e){return t.find(this.shots,function(t){return t.id===e})},e.prototype.update=function(t,e){var n=this;return this.shots.forEach(function(o){return t.push(o.update(n,Date.now(),e))}),this.players.forEach(function(o){return t.push(o.update(n,Date.now(),e))})},e.prototype.render=function(t){return this.players.forEach(function(e){return e.paint(t)}),this.shots.forEach(function(e){return e.paint(t)})},e.prototype.isElementOutOfArena=function(t,e){return t.x+e.radius()>this.width||t.y+e.radius()>this.height||t.x-e.radius()<0||t.y-e.radius()<0},e}()})}.call(this),function(){define("avioneta/serializers/collection_serializer",["underscore","avioneta/serializers/modules"],function(t,e){return e.CollectionSerializer=function(){function e(){}return e.prototype.serialize=function(e){var n;return n=t.reduce(e,function(t,e){var n;return(n=e.toJSON())&&(t||(t=[])).push(n),t},void 0),JSON.stringify(n)},e}()})}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t},o=function(t,e){return function(){return t.apply(e,arguments)}};t={},t.version="1.0.0",t.Steps=function(){function t(){this.storage=[]}return t.prototype.add=function(t){if(this.find(t.name))throw{name:"Exception",message:'Step with name "'+t.name+'" is already in the collection'};return this.storage.push(t)},t.prototype.find=function(t){return this.storage.filter(function(e){return e.name===t})[0]},t.prototype.first=function(t){return null!=t&&(this.first_step=t),this.first_step},t.prototype.length=function(){return this.storage.length},t}(),t.Step=function(){function t(t,e,n){this.name=t,this.next={},this.next.success=e,this.next.failure=n,this.collaborators=[]}return t.prototype.attach_collaborator=function(t){return this.collaborators.push(t)},t.prototype.start=function(){var t,e=this;return t=this.collaborators.map(function(t){var e;return e=new $.Deferred,t(e),e}),$.when.apply(null,t).done(function(){return e._success()}).fail(function(){return e._fail()})},t.prototype._fail=function(){return this.next.failure.start()},t.prototype._success=function(){return this.next.success.start()},t}(),t.NullStep=function(){function t(){}return t.prototype.start=function(){},t}(),t.InputStep=function(){function t(t){this.name=t,this.transitions={}}return t.prototype.process=function(t){return t(this,this.transitions.success,this.transitions.failure)},t}(),t.NullInputStep=function(e){function o(){o.__super__.constructor.call(this,"NullInputStep")}return n(o,e),o.prototype.process=function(){return new t.NullStep},o}(t.InputStep),t.InputTransform=function(){function e(){}var n;return n=new t.NullInputStep,e.prototype.process=function(t){return null==t?n:"string"==typeof t?this.process_string(t):t instanceof Array?this.process_array(t):t instanceof Object?this.process_object(t):void 0},e.prototype.process_string=function(e){var o;return o=new t.InputStep(e),o.transitions.success=n,o.transitions.failure=n,o},e.prototype.process_object=function(e){var n,o,i,r;if(o=Object.keys(e),o.length>1)throw{message:"Object can have just one key"};return i=new t.InputStep(o[0]),"object"==typeof e[i.name]?(r=e[i.name].success,n=e[i.name].failure):(r=e[i.name],n=void 0),i.transitions.success=this.process(r),i.transitions.failure=this.process(n),i},e.prototype.process_array=function(t){var e,o;return 0===t.length?n:(o=t.shift(),"string"==typeof o?(e=this.process(o),e.transitions.success=this.process_array(t)):e=this.process(o),e)},e}(),t.Builder=function(){function n(){this._build=o(this._build,this)}return n.prototype.process=function(n){var o,i,r,s,a;this.transformer=new t.InputTransform,this._tmp_steps={},o=this.transformer.process(n),o.process(this._build),r=new t.Steps,a=this._tmp_steps;for(i in a)e.call(a,i)&&(s=a[i],r.add(s));return r.first(r.find(o.name)),r},n.prototype._build=function(e,n,o){return null!=this._tmp_steps[e.name]?this._tmp_steps[e.name]:(this._tmp_steps[e.name]=new t.Step(e.name,void 0,void 0),this._tmp_steps[e.name].next.success=n.process(this._build),this._tmp_steps[e.name].next.failure=o.process(this._build),this._tmp_steps[e.name])},n}(),t.Machine=function(){function e(e){var n;n=new t.Builder,this.steps=n.process(e)}return e.prototype.join=function(t,e){return t=this.steps.find(t),t.attach_collaborator(e)},e.prototype.init=function(){return this.steps.first().start()},e}(),window.Frundis=t}.call(this),define("frundis",function(t){return function(){var e;return e||t.Frundis}}(this)),!jQuery)throw new Error("Bootstrap requires jQuery");+function(t){function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]}}t.fn.emulateTransitionEnd=function(e){var n=!1,o=this;t(this).one(t.support.transition.end,function(){n=!0});var i=function(){n||t(o).trigger(t.support.transition.end)};return setTimeout(i,e),this},t(function(){t.support.transition=e()})}(window.jQuery),+function(t){var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){r.trigger("closed.bs.alert").remove()}var o=t(this),i=o.attr("data-target");i||(i=o.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var r=t(i);e&&e.preventDefault(),r.length||(r=o.hasClass("alert")?o:o.parent()),r.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one(t.support.transition.end,n).emulateTransitionEnd(150):n())};var o=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var o=t(this),i=o.data("bs.alert");i||o.data("bs.alert",i=new n(this)),"string"==typeof e&&i[e].call(o)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",e,n.prototype.close)}(window.jQuery),+function(t){var e=function(n,o){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,o)};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(t){var e="disabled",n=this.$element,o=n.is("input")?"val":"html",i=n.data();t+="Text",i.resetText||n.data("resetText",n[o]()),n[o](i[t]||this.options[t]),setTimeout(function(){"loadingText"==t?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var e=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");"radio"===e.prop("type")&&t.find(".active").removeClass("active")}this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=function(n){return this.each(function(){var o=t(this),i=o.data("bs.button"),r="object"==typeof n&&n;i||o.data("bs.button",i=new e(this,r)),"toggle"==n?i.toggle():n&&i.setState(n)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),e.preventDefault()})}(window.jQuery),+function(t){var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var n=this,o=this.getActiveIndex();return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid",function(){n.to(e)}):o==e?this.pause().cycle():this.slide(e>o?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(e,n){var o=this.$element.find(".item.active"),i=n||o[e](),r=this.interval,s="next"==e?"left":"right",a="next"==e?"first":"last",u=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[a]()}this.sliding=!0,r&&this.pause();var c=t.Event("slide.bs.carousel",{relatedTarget:i[0],direction:s});if(!i.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(u.$indicators.children()[u.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(c),c.isDefaultPrevented())return;i.addClass(e),i[0].offsetWidth,o.addClass(s),i.addClass(s),o.one(t.support.transition.end,function(){i.removeClass([e,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),u.sliding=!1,setTimeout(function(){u.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(c),c.isDefaultPrevented())return;o.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return r&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=function(n){return this.each(function(){var o=t(this),i=o.data("bs.carousel"),r=t.extend({},e.DEFAULTS,o.data(),"object"==typeof n&&n),s="string"==typeof n?n:r.slide;i||o.data("bs.carousel",i=new e(this,r)),"number"==typeof n?i.to(n):s?i[s]():r.interval&&i.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var n,o=t(this),i=t(o.attr("data-target")||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),r=t.extend({},i.data(),o.data()),s=o.attr("data-slide-to");s&&(r.interval=!1),i.carousel(r),(s=o.attr("data-slide-to"))&&i.data("bs.carousel").to(s),e.preventDefault()}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(window.jQuery),+function(t){var e=function(n,o){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,o),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var o=n.data("bs.collapse");if(o&&o.transitioning)return;n.collapse("hide"),o||n.data("bs.collapse",null)}var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("in")[i]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var s=t.camelCase(["scroll",i].join("-"));this.$element.one(t.support.transition.end,t.proxy(r,this)).emulateTransitionEnd(350)[i](this.$element[0][s])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?(this.$element[n](0).one(t.support.transition.end,t.proxy(o,this)).emulateTransitionEnd(350),void 0):o.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each(function(){var o=t(this),i=o.data("bs.collapse"),r=t.extend({},e.DEFAULTS,o.data(),"object"==typeof n&&n);i||o.data("bs.collapse",i=new e(this,r)),"string"==typeof n&&i[n]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var n,o=t(this),i=o.attr("data-target")||e.preventDefault()||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),r=t(i),s=r.data("bs.collapse"),a=s?"toggle":o.data(),u=o.attr("data-parent"),c=u&&t(u);s&&s.transitioning||(c&&c.find('[data-toggle=collapse][data-parent="'+u+'"]').not(o).addClass("collapsed"),o[r.hasClass("in")?"addClass":"removeClass"]("collapsed")),r.collapse(a)})}(window.jQuery),+function(t){function e(){t(o).remove(),t(i).each(function(e){var o=n(t(this));o.hasClass("open")&&(o.trigger(e=t.Event("hide.bs.dropdown")),e.isDefaultPrevented()||o.removeClass("open").trigger("hidden.bs.dropdown"))})}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var o=n&&t(n);return o&&o.length?o:e.parent()}var o=".dropdown-backdrop",i="[data-toggle=dropdown]",r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.prototype.toggle=function(o){var i=t(this);if(!i.is(".disabled, :disabled")){var r=n(i),s=r.hasClass("open");if(e(),!s){if("ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e),r.trigger(o=t.Event("show.bs.dropdown")),o.isDefaultPrevented())return;r.toggleClass("open").trigger("shown.bs.dropdown"),i.focus()}return!1}},r.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var o=t(this);if(e.preventDefault(),e.stopPropagation(),!o.is(".disabled, :disabled")){var r=n(o),s=r.hasClass("open");if(!s||s&&27==e.keyCode)return 27==e.which&&r.find(i).focus(),o.click();var a=t("[role=menu] li:not(.divider):visible a",r);if(a.length){var u=a.index(a.filter(":focus"));38==e.keyCode&&u>0&&u--,40==e.keyCode&&u<a.length-1&&u++,~u||(u=0),a.eq(u).focus()}}}};var s=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),o=n.data("dropdown");o||n.data("dropdown",o=new r(this)),"string"==typeof e&&o[e].call(n)})},t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",i,r.prototype.toggle).on("keydown.bs.dropdown.data-api",i+", [role=menu]",r.prototype.keydown)}(window.jQuery),+function(t){var e=function(e,n){this.options=n,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var n=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var o=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show(),o&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=t.Event("shown.bs.modal",{relatedTarget:e});o?n.$element.find(".modal-dialog").one(t.support.transition.end,function(){n.$element.focus().trigger(i)}).emulateTransitionEnd(300):n.$element.focus().trigger(i)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var n=t.fn.modal;t.fn.modal=function(n,o){return this.each(function(){var i=t(this),r=i.data("bs.modal"),s=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n);r||i.data("bs.modal",r=new e(this,s)),"string"==typeof n?r[n](o):s.show&&r.show(o)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),o=n.attr("href"),i=t(n.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),r=i.data("modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},i.data(),n.data());e.preventDefault(),i.modal(r,this).one("hide",function(){n.is(":visible")&&n.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(window.jQuery),+function(t){var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,n,o){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(o);for(var i=this.options.trigger.split(" "),r=i.length;r--;){var s=i[r];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focus",u="hover"==s?"mouseleave":"blur";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(u+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,o){n[t]!=o&&(e[t]=o)}),e},e.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},e.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,r=i.test(o);r&&(o=o.replace(i,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(o),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var s=this.getPosition(),a=n[0].offsetWidth,u=n[0].offsetHeight;if(r){var c=this.$element.parent(),l=o,p=document.documentElement.scrollTop||document.body.scrollTop,f="body"==this.options.container?window.innerWidth:c.outerWidth(),d="body"==this.options.container?window.innerHeight:c.outerHeight(),h="body"==this.options.container?0:c.offset().left;o="bottom"==o&&s.top+s.height+u-p>d?"top":"top"==o&&s.top-p-u<0?"bottom":"right"==o&&s.right+a>f?"left":"left"==o&&s.left-a<h?"right":o,n.removeClass(l).addClass(o)}var m=this.getCalculatedOffset(o,s,a,u);this.applyPlacement(m,o),this.$element.trigger("shown.bs."+this.type)}},e.prototype.applyPlacement=function(t,e){var n,o=this.tip(),i=o[0].offsetWidth,r=o[0].offsetHeight,s=parseInt(o.css("margin-top"),10),a=parseInt(o.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),t.top=t.top+s,t.left=t.left+a,o.offset(t).addClass("in");var u=o[0].offsetWidth,c=o[0].offsetHeight;if("top"==e&&c!=r&&(n=!0,t.top=t.top+r-c),/bottom|top/.test(e)){var l=0;t.left<0&&(l=-2*t.left,t.left=0,o.offset(t),u=o[0].offsetWidth,c=o[0].offsetHeight),this.replaceArrow(l-i+u,u,"left")}else this.replaceArrow(c-r,c,"top");n&&o.offset(t)},e.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=n.hoverState&&o.detach()}var n=this,o=this.tip(),i=t.Event("hide.bs."+this.type);return this.$element.trigger(i),i.isDefaultPrevented()?void 0:(o.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?o.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.$element.trigger("hidden.bs."+this.type),this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,n,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-n}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var n=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var o=t(this),i=o.data("bs.tooltip"),r="object"==typeof n&&n;i||o.data("bs.tooltip",i=new e(this,r)),"string"==typeof n&&i[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(window.jQuery),+function(t){var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var o=t(this),i=o.data("bs.popover"),r="object"==typeof n&&n;i||o.data("bs.popover",i=new e(this,r)),"string"==typeof n&&i[n]()})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(window.jQuery),+function(t){function e(n,o){var i,r=t.proxy(this.process,this);this.$element=t(n).is("body")?t(window):t(n),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",r),this.options=t.extend({},e.DEFAULTS,o),this.selector=(this.options.target||(i=t(n).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);var n=this;this.$body.find(this.selector).map(function(){var o=t(this),i=o.data("target")||o.attr("href"),r=/^#\w/.test(i)&&t(i);return r&&r.length&&[[r[e]().top+(!t.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,o=n-this.$scrollElement.height(),i=this.offsets,r=this.targets,s=this.activeTarget;if(e>=o)return s!=(t=r.last()[0])&&this.activate(t);for(t=i.length;t--;)s!=r[t]&&e>=i[t]&&(!i[t+1]||e<=i[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parents(".active").removeClass("active");var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',o=t(n).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),o.trigger("activate")};var n=t.fn.scrollspy;t.fn.scrollspy=function(n){return this.each(function(){var o=t(this),i=o.data("bs.scrollspy"),r="object"==typeof n&&n;i||o.data("bs.scrollspy",i=new e(this,r)),"string"==typeof n&&i[n]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery),+function(t){var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),o=e.attr("data-target");if(o||(o=e.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=n.find(".active:last a")[0],r=t.Event("show.bs.tab",{relatedTarget:i});if(e.trigger(r),!r.isDefaultPrevented()){var s=t(o);this.activate(e.parent("li"),n),this.activate(s,s.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:i})})}}},e.prototype.activate=function(e,n,o){function i(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),o&&o()}var r=n.find("> .active"),s=o&&t.support.transition&&r.hasClass("fade");s?r.one(t.support.transition.end,i).emulateTransitionEnd(150):i(),r.removeClass("in")};var n=t.fn.tab;t.fn.tab=function(n){return this.each(function(){var o=t(this),i=o.data("bs.tab");i||o.data("bs.tab",i=new e(this)),"string"==typeof n&&i[n]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(window.jQuery),+function(t){var e=function(n,o){this.options=t.extend({},e.DEFAULTS,o),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(n),this.affixed=this.unpin=null,this.checkPosition()
};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=t(document).height(),o=this.$window.scrollTop(),i=this.$element.offset(),r=this.options.offset,s=r.top,a=r.bottom;"object"!=typeof r&&(a=s=r),"function"==typeof s&&(s=r.top()),"function"==typeof a&&(a=r.bottom());var u=null!=this.unpin&&o+this.unpin<=i.top?!1:null!=a&&i.top+this.$element.height()>=n-a?"bottom":null!=s&&s>=o?"top":!1;this.affixed!==u&&(this.unpin&&this.$element.css("top",""),this.affixed=u,this.unpin="bottom"==u?i.top-o:null,this.$element.removeClass(e.RESET).addClass("affix"+(u?"-"+u:"")),"bottom"==u&&this.$element.offset({top:document.body.offsetHeight-a-this.$element.height()}))}};var n=t.fn.affix;t.fn.affix=function(n){return this.each(function(){var o=t(this),i=o.data("bs.affix"),r="object"==typeof n&&n;i||o.data("bs.affix",i=new e(this,r)),"string"==typeof n&&i[n]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),n=e.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),e.affix(n)})})}(window.jQuery),define("bootstrap",function(){}),window.bootbox=window.bootbox||function t(e,n){function o(t){var e=y[m.locale];return e?e[t]:y.en[t]}function i(t,n,o){t.preventDefault();var i=e.isFunction(o)&&o(t)===!1;i||n.modal("hide")}function r(t){var e,n=0;for(e in t)n++;return n}function s(t,n){var o=0;e.each(t,function(t,e){n(t,e,o++)})}function a(t){var n,o;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return t=e.extend({},m,t),t.buttons||(t.buttons={}),t.backdrop=t.backdrop?"static":!1,n=t.buttons,o=r(n),s(n,function(t,i,r){if(e.isFunction(i)&&(i=n[t]={callback:i}),"object"!==e.type(i))throw new Error("button with key "+t+" must be an object");i.label||(i.label=t),i.className||(i.className=2>=o&&r===o-1?"btn-primary":"btn-default")}),t}function u(t,e){var n=t.length,o={};if(1>n||n>2)throw new Error("Invalid argument length");return 2===n||"string"==typeof t[0]?(o[e[0]]=t[0],o[e[1]]=t[1]):o=t[0],o}function c(t,n,o){return e.extend(!0,{},t,u(n,o))}function l(t,e,n,o){var i={className:"bootbox-"+t,buttons:p.apply(null,e)};return f(c(i,o,n),e)}function p(){for(var t={},e=0,n=arguments.length;n>e;e++){var i=arguments[e],r=i.toLowerCase(),s=i.toUpperCase();t[r]={label:o(s)}}return t}function f(t,e){var o={};return s(e,function(t,e){o[e]=!0}),s(t.buttons,function(t){if(o[t]===n)throw new Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")}),t}var d={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>"}},h=e("body"),m={locale:"en",backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0},v={};v.alert=function(){var t;if(t=l("alert",["ok"],["message","callback"],arguments),t.callback&&!e.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return e.isFunction(t.callback)?t.callback():!0},v.dialog(t)},v.confirm=function(){var t;if(t=l("confirm",["cancel","confirm"],["message","callback"],arguments),t.buttons.cancel.callback=t.onEscape=function(){return t.callback(!1)},t.buttons.confirm.callback=function(){return t.callback(!0)},!e.isFunction(t.callback))throw new Error("confirm requires a callback");return v.dialog(t)},v.prompt=function(){var t,o,i,r,a,u,l;if(r=e(d.form),o={className:"bootbox-prompt",buttons:p("cancel","confirm"),value:"",inputType:"text"},t=f(c(o,arguments,["title","callback"]),["cancel","confirm"]),u=t.show===n?!0:t.show,t.message=r,t.buttons.cancel.callback=t.onEscape=function(){return t.callback(null)},t.buttons.confirm.callback=function(){var n;switch(t.inputType){case"text":case"email":case"select":n=a.val();break;case"checkbox":var o=a.find("input:checked");n=[],s(o,function(t,o){n.push(e(o).val())})}return t.callback(n)},t.show=!1,!t.title)throw new Error("prompt requires a title");if(!e.isFunction(t.callback))throw new Error("prompt requires a callback");if(!d.inputs[t.inputType])throw new Error("invalid prompt type");switch(a=e(d.inputs[t.inputType]),t.inputType){case"text":case"email":a.val(t.value);break;case"select":var h={};if(l=t.inputOptions||[],!l.length)throw new Error("prompt with select requires options");s(l,function(t,o){var i=a;if(o.value===n||o.text===n)throw new Error("given options in wrong format");o.group&&(h[o.group]||(h[o.group]=e("<optgroup/>").attr("label",o.group)),i=h[o.group]),i.append("<option value='"+o.value+"'>"+o.text+"</option>")}),s(h,function(t,e){a.append(e)}),a.val(t.value);break;case"checkbox":var m=e.isArray(t.value)?t.value:[t.value];if(l=t.inputOptions||[],!l.length)throw new Error("prompt with checkbox requires options");if(!l[0].value||!l[0].text)throw new Error("given options in wrong format");a=e("<div/>"),s(l,function(n,o){var i=e(d.inputs[t.inputType]);i.find("input").attr("value",o.value),i.find("label").append(o.text),s(m,function(t,e){e===o.value&&i.find("input").prop("checked",!0)}),a.append(i)})}return t.placeholder&&a.attr("placeholder",t.placeholder),r.append(a),r.on("submit",function(t){t.preventDefault(),i.find(".btn-primary").click()}),i=v.dialog(t),i.off("shown.bs.modal"),i.on("shown.bs.modal",function(){a.focus()}),u===!0&&i.modal("show"),i},v.dialog=function(t){t=a(t);var n=e(d.dialog),o=n.find(".modal-body"),r=t.buttons,u="",c={onEscape:t.onEscape};if(s(r,function(t,e){u+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",c[t]=e.callback}),o.find(".bootbox-body").html(t.message),t.animate===!0&&n.addClass("fade"),t.className&&n.addClass(t.className),t.title&&o.before(d.header),t.closeButton){var l=e(d.closeButton);t.title?n.find(".modal-header").prepend(l):l.css("margin-top","-10px").prependTo(o)}return t.title&&n.find(".modal-title").html(t.title),u.length&&(o.after(d.footer),n.find(".modal-footer").html(u)),n.on("hidden.bs.modal",function(t){t.target===this&&n.remove()}),n.on("shown.bs.modal",function(){n.find(".btn-primary:first").focus()}),n.on("escape.close.bb",function(t){c.onEscape&&i(t,n,c.onEscape)}),n.on("click",".modal-footer button",function(t){var o=e(this).data("bb-handler");i(t,n,c[o])}),n.on("click",".bootbox-close-button",function(t){i(t,n,c.onEscape)}),n.on("keyup",function(t){27===t.which&&n.trigger("escape.close.bb")}),h.append(n),n.modal({backdrop:t.backdrop,keyboard:!1,show:!1}),t.show&&n.modal("show"),n},v.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],e.extend(m,t)},v.hideAll=function(){e(".bootbox").modal("hide")};var y={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd"},ru:{OK:"OK",CANCEL:"",CONFIRM:""},zh_CN:{OK:"OK",CANCEL:"",CONFIRM:""},zh_TW:{OK:"OK",CANCEL:"",CONFIRM:""}};return v.init=function(n){window.bootbox=t(n||e)},v}(window.jQuery),define("bootbox",["bootstrap","jquery"],function(t){return function(){var e;return e||t.bootbox}}(this)),define("jst!templates/model",[],function(){return window.JST["public/assets/javascripts/templates/model"]=function(t){t||(t={});var e,n=[],o=t.safe,i=t.escape;return e=t.safe=function(t){if(t&&t.ecoSafe)return t;("undefined"==typeof t||null==t)&&(t="");var e=new String(t);return e.ecoSafe=!0,e},i||(i=t.escape=function(t){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push("asdasdasd\n")}).call(this)}.call(t),t.safe=o,t.escape=i,n.join("")}}),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,n=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};define("views/model",["views/modules","backbone","mixins/modalizable","jst!templates/model"],function(e,o,i,r){var s;return e.Model=function(e){function o(){return this._handleOk=t(this._handleOk,this),this._handleCancel=t(this._handleCancel,this),s=o.__super__.constructor.apply(this,arguments)}return n(o,e),o.prototype.template=r,o.prototype.modalizable={header:"Select a model",buttons:{cancel:{text:"Cancel",cb:"_handleCancel"},save:{text:"Ok",cb:"_handleOk"}}},o.prototype.render=function(){return this.$el.html(this.template())},o.prototype._handleCancel=function(){return this.rejectModal()},o.prototype._handleOk=function(){return this.resolveModal()},o}(o.View),i.mixin(e.Model)})}.call(this),function(){define("avioneta/configurator",["avioneta/modules","frundis","bootbox","views/modal","views/model"],function(t,e,n,o,i){return t.Configurator=function(){function t(t){this.mainDeferred=t,this.machine=new e.Machine({init:{success:"done",failure:"error"}}),this.machine.join("init",function(t){var e;return e=new i,(new i).modalize().done(function(){return t.resolve()})}),this.machine.join("done",function(){return t.resolve()}),this.machine.join("error",function(){return console.log("error shit")}),this.machine.init()}return t.prototype.done=function(t){return this.mainDeferred.done(t)},t}()})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("avioneta/commands/register_player_command",["underscore","avioneta/commands/modules","avioneta/commands/base_command"],function(t,n,o){return n.RegisterPlayerCommand=function(n){function o(e){null==e&&(e={}),o.__super__.constructor.call(this,t.extend({},{data:e,name:"RegisterPlayerCommand"}))}return e(o,n),o}(o)})}.call(this),function(){define("avioneta/collections/modules",["avioneta/modules"],function(t){return t.Collections={}})}.call(this),function(){define("avioneta/collections/action_collection",["avioneta/collections/modules"],function(t){return t.ActionCollection=function(){function t(){this._queue=[]}return t.prototype.push=function(t){return t?(t instanceof Array?this._pushCommands(t):this._pushCommand(t),this):void 0},t.prototype.size=function(){return this._queue.length},t.prototype.run=function(t){return this._queue.forEach(function(e){return e.run(t)})},t.prototype.clear=function(){return this._queue=[]},t.prototype.each=function(t){return this._queue.forEach(t)},t.prototype.values=function(){return this._queue},t.prototype.commands=function(){return this.values().map(function(t){return t.command()})},t.prototype._pushCommand=function(t){return this._queue.push(t)},t.prototype._pushCommands=function(t){return this._queue=this._queue.concat(t)},t}()})}.call(this),function(){define("avioneta/serializers/message_collection_serializer",["avioneta/serializers/modules","avioneta/collections/action_collection"],function(t,e){return t.MessageCollectionSerializer=function(){function t(){}return t.prototype.deserialize=function(t){var n,o,i=this;return n=new e,o=_.flatten(_.map(t,JSON.parse)),_.each(o,function(t){return console.log(t),n.push(i._serializerFor(t.type).deserialize(t.data))}),n},t.prototype._serializerFor=function(t){return new(require("avioneta/serializers/"+this._namespaceFor(t)+this._serializerNameFor(t)))},t.prototype._namespaceFor=function(t){return t.match(/Notification/)?"notifications/":""},t.prototype._serializerNameFor=function(t){return(""+t.deCapitalize()+"Serializer").toUnderscore()},t}()})}.call(this),function(){define("avioneta/game",["avioneta/modules","avioneta/collections/action_collection","avioneta/serializers/collection_serializer","avioneta/serializers/message_collection_serializer"],function(t,e,n,o){return t.Game=function(){function t(t){this.commandSync=t.services.commandSync,this.services=t.services,this.arena=t.arena}return t.prototype.actions=new e,t.prototype.collectionSerializer=new n,t.prototype.messageCollectionSerializer=new o,t.prototype.update=function(){var t,e=this;return this.commandSync.get(function(t){return e.messageCollectionSerializer.deserialize(t).run(e.arena)}),this.arena.update(this.actions,this.services),this.actions.run(this.arena),(t=this.collectionSerializer.serialize(this.actions.commands()))&&this.commandSync.push(t),this.actions.clear()},t.prototype.render=function(t){return this.arena.render(t)},t}()})}.call(this),function(){String.prototype.toUnderscore=function(){return this.replace(/([a-z][A-Z])/g,function(t){return t[0].toLowerCase()+"_"+t[1].toLowerCase()})},String.prototype.deCapitalize=function(){return this.charAt(0).toLowerCase()+this.slice(1)}}.call(this),define("extensions/string",function(){}),function(){define("avioneta/setup",["jquery","configuration","avioneta/modules","avioneta/gui","avioneta/components/arena","avioneta/components/player","avioneta/serializers/collection_serializer","avioneta/components/models/player/basic_model","avioneta/configurator","avioneta/commands/register_player_command","avioneta/game","extensions/string","avioneta/services/bulk_image_loader"],function(t,e,n,o,i,r,s,a,u,c,l,p,f){return n.Setup=function(){function n(){}return n.init=function(n){return new f(["assets/images/avioneta/sprite.png"]).load().done(function(){var r,a,u,p,f,d,h,m,v;return f=[],r=new i({width:e.avioneta.arena.width,height:e.avioneta.arena.height}),p=new c,f.push(p),n.services.commandSync.push((new s).serialize(f)),m=t(".main-canvas")[0],v=m.getContext("2d"),a=t(".background-canvas")[0],u=a.getContext("2d"),h=new o({mainCanvas:v,backgroundCanvas:u}),d=new l({arena:r,services:n.services}),h.start(d)})},n}()})}.call(this),function(){define("avioneta/init",["underscore","avioneta/initializers/services","avioneta/initializers/serializers","avioneta/setup"],function(t,e,n,o){return{init:function(n){return o.init({services:t.extend(e,n.services)})}}})}.call(this),function(){define("init",["initializers/services","initializers/views","initializers/interests","avioneta/init"],function(t,e,n,o){return{init:function(){return o.init({services:t})}}})}.call(this),function(){requirejs.config({deps:["jquery"],shim:{input:{exports:"input"},underscore:{exports:"_"},frundis:{exports:"Frundis"},bootbox:{deps:["bootstrap","jquery"],exports:"bootbox"},backbone:{deps:["underscore"],exports:"Backbone"},microevent:{exports:"MicroEvent"}},paths:{jquery:"vendor/jquery-2.0.3",bootbox:"vendor/bootbox",bootstrap:"vendor/bootstrap-3.0.0",backbone:"vendor/backbone-1.1.0",underscore:"vendor/underscore-1.5.2",frundis:"vendor/frundis",microevent:"vendor/microevent",input:"vendor/input",configuration:"config/development"},callback:function(){return $().ready(function(){return window.JST={},require(["init"],function(t){return t.init()})})}})}.call(this),define("main",function(){});